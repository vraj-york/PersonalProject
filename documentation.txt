================================================================================
REACT-APP: Corporation Profile, Two-Factor Authentication & Company Onboarding
================================================================================
Implementation documentation for the "react-app" React application, built
according to the Corporation Profile, Two-Factor Authentication, Company
Onboarding, Edit Corporation - Company Details, Forgot Password, Login,
Reset Password, **and Company Directory** specifications.
--------------------------------------------------------------------------------
1. PROJECT OVERVIEW
--------------------------------------------------------------------------------
- App name: react-app
- Stack: React 19, Vite 7, Material-UI (MUI) v5, React Router v7, Redux Toolkit
- Purpose: Super Admin interface for viewing and managing a corporation profile
and its associated companies. Now includes a Two-Factor Authentication (2FA)
verification flow with updated error messaging (including inline validation for invalid codes), a Forgot Password flow for user account recovery (now including a dedicated Reset Password page with password strength indicator, fully supporting mobile viewports), and a dedicated Login page with email/password authentication and "Remember me" functionality. Also includes a multi-step "Add New
Company" onboarding process, including detailed specification for Step 3: Plan & Seats
(now with conditional payment details for Credit Card, Wiring, or ACH Bank Transfer)
and Step 4: Configuration, **and Step 5: Confirmation (review & submit).** **NEW: Now includes a multi-step "Add New Corporation" onboarding process with two flows: (1) "Quick Setup" (3 steps): Step 1: Basic Info., Step 2: Company Info. & Access Setup (direct form for a single company), Step 3: Confirmation; (2) "Advance Setup" (5 steps): Step 1: Basic Info., Step 2: Company Setup (with an "Add New Company" modal), Step 3: Branding & Domains, Step 4: Governance & Permissions (Key Contacts), and Step 5: Confirmation.** **NEW: Company Directory list page (`/companies`)** with a paginated, sortable, and filterable table of companies (CompanyDirectoryPage, CompanyDirectoryTable, SeatUsageProgressBar, CompanyActionsCell; filters: Status, Plan, Assigned Corporation, Created On, Last Updated On; columns: Company ID, Company Name, Status, Assigned Corporation, Plan, Seat Usage, Created On, Last Updated On, Actions; Redux companyDirectorySlice; mockCompaniesDirectory). **Company Directory / View Details** page (/companies/:id) and **Edit Details** page (/companies/:id/edit). **View Details** defaults to **Basic Info.** tab (read-only CompanyBasicInfoView with **Company Basics** card first — Company Legal Name, DBA/ Trade Name, Website URL, Company Type, Office Type, Region (Data Residency), Industry, Primary Language, Company Phone No., Company Address — then **Parent Corporation Info.** card: Parent Corporation Legal Name, Ownership Type); ProfileTabs: Basic Info. (default), Key Contacts, Plan & Seats, Configuration; company name, status badges (e.g. Assigned [rgba(47, 143, 107, 1)], Enterprise [rgba(48, 95, 161, 1)]), Delete button, **Edit Company button** (aria-label "Edit company basic information" **and opens AddCorporationCompanyModal in edit mode for basic and access info editing**); Key Contacts and Plan & Seats tabs show read-only CompanyKeyContactsView and CompanyPlanAndSeatsView; Configuration tab shows CompanyConfigView (ConfigDisplayRow, ViewLogoPreview). **Edit Details** (/companies/:id/edit) contains the editable forms: **Basic Info.** tab (CompanyBasicInfoForm with ParentCorporationCard, CompanyBasicInfoCard, CompanyAddressCard; Cancel / Save & Update), CompanyConfigForm, CompanyKeyContactsForm, CompanyPlanAndSeatsForm. Clicking "Edit Company" on View Details opens the Edit Company modal; navigating to edit route is available via Edit Details page. **NEW: Clicking "Delete" company button (on View Details or Edit Details page) opens a `DeleteCompanyConfirmationModal` for final verification.** **UPDATED: Corporation Profile Configuration page (`/corporations/:id/profile`) now includes a 'Basic Info.' tab as the default active tab, providing a read-only overview of the corporation's fundamental details, executive sponsorship, and key contacts (CorporationBasicInfoView with Corporation Basics, Executive Sponsor, and Key Contacts cards). The 'Configuration' tab is now dedicated to displaying an Audit Log table with filtering and pagination, replacing the previously planned comprehensive dashboard, security, and branding settings. This tab renders the new `CorporationAuditLogTable` component (SearchInput, CustomSelect filters, Table with sortable columns Timestamp/Actions/Status/Actor, Status badges, TablePagination). The "Close Corporation" button now triggers a `CloseCorporationConfirmationModal` for final verification and reason selection. **NEW: The "Suspend" button now triggers a `SuspendCorporationConfirmationModal` for verification and reason selection.** **NEW: Edit Corporation - Basic Details page (`/corporations/:id/edit`): Dedicated page for editing a corporation's basic information, distinct from the read-only profile view. The "Edit" button on the Corporation Profile page navigates to this edit route. The edit page has tabs: "Basic Info." (active by default), "Companies", "Branding", "Key Contacts", "Configuration". The Basic Info. tab renders `CorporationBasicInfoEditForm` with editable Corporation Basics (CorporationBasicsCard), Corporation Address (CorporationAddressCard), and Executive Sponsor (ExecutiveSponsorCard with collapsible header). The "Branding" tab now renders `CorporationBrandingEditForm` for logo upload and preview (Upload Logo FileUploadInput, Logo Preview with CorporationLogoDisplay; Cancel and Save & Update; success toast "Branding saved"). Form fields use TextInput/CustomSelect with pre-filled values; labels use FormGroupLabel (rgba(47, 65, 74, 1), Inter 500 14px); required asterisks rgba(196, 71, 85, 1); input/select background rgba(255, 255, 255, 1). Cancel navigates back to profile; Save & Update submits via Redux thunk and shows "Basic Info. saved" toast. **UPDATED: The "Companies" tab (now functional) renders `CorporationEditCompaniesTabContent` which allows Super Admins to manage the list of companies associated with the corporation, including adding new companies via a modal, editing existing company details via a modal, and deleting companies via a confirmation modal. **UPDATED: The "Key Contacts" tab now renders `CorporationKeyContactsEditForm` to manage the Primary Corporate Admin. It uses `PrimaryCorporateAdminEditCard` for editable fields (Name, Role, Email, Work Phone No., Cell Phone No.) and `BillingFinanceContactCard` and `LegalComplianceContactCard` for display/navigation placeholders. Cancel navigates to profile; Save & Update submits via `updateCorporationKeyContactsRequest` thunk; loading "Saving Key Contacts..."; success toast "Key Contacts saved".** **UPDATED: The "Configuration" tab now renders `CorporationSecurityConfigForm` (Default Security Posture: Password Policy, 2FA Requirement, Session Timeout; Cancel / Save & Update; success toast "Configuration saved").** Redux corporationsSlice includes `updateCorporationBasicInfoRequest` thunk, `corporationEditSaveStatus`, `corporationEditSaveError`, `resetCorporationEditSaveStatus`, and selectors; and for Branding: `editingCorporationBranding` state (status, error), `updateCorporationBrandingRequest` thunk, `setEditingCorporationBrandingStatus`, `setEditingCorporationBrandingError`, `resetEditingCorporationBrandingState`, and selectors `selectEditingCorporationBrandingStatus`, `selectEditingCorporationBrandingError`, `selectCurrentCorporationLogoUrl`.** **UPDATED: The Corporation Directory page (`/corporations`) now presents a comprehensive, paginated, sortable, and filterable table of corporations within the Super Admin interface, including a title, description, "Add New Corporation" button, search input, status and time range filters, and a detailed table with columns for Corp. ID, Corporation Name (with region), Status, Executive Sponsor (with email), Number of Companies, Created On, and Actions (View Details, More Actions).** **NEW: Now includes a dedicated, top-level Dashboard page (`/dashboard`) that displays an "empty state" when no metrics are available, with a page title, description, and an "Export Report" button, and integrates with the `SuperAdminLayout` including a visually active "Dashboard" sidebar item. UPDATED: Dashboard has been visually refined for mobile viewports, including typography updates (page title 16px, empty state title 20px, description 14px) and an adapted mobile header (Logo Wrapper with BSPBlueprintLogo, Icon panel-left, Icon ellipsis) when viewport is below md breakpoint; SuperAdminLayout renders MobileDashboardHeader and sidebar as a Drawer on mobile.** **NEW: Email Template - Verification Code:** Structural data for the 2FA verification *email* (sent to users) is now covered. This is an additive feature: an email template component/asset used for the email containing the 2FA code. The in-app experience (`/2fa/verify`, TwoFactorAuthDialog, OtpInput) has been *visually refined and restructured* as per the structural data. The application bootstrapping (Root context) uses `react-redux` Provider, `redux-persist` PersistGate (redux-persist/integration/react), and `react-router-dom` BrowserRouter in main.jsx and App.jsx.
**NEW: Super Admin Persona Display:** A new display component (`SuperAdminPersonaDisplay`) conceptualizing the active Super Admin persona and theme. It consists of a frame with a `rgba(48, 95, 161, 1)` background and text "Super Admin Persona - Light Theme" in `Inter, 500, 16px` (implementation uses 16px for layout; spec mentioned 500px — design clarification recommended), `rgba(255, 255, 255, 1)`. This component is integrated into the Dashboard page, providing immediate visual feedback of the logged-in user's role and selected theme. Redux authSlice stores `currentPersonaType` and `activeThemePreference` (persisted); default persona/theme set on login.
--------------------------------------------------------------------------------
2. PROJECT STRUCTURE
--------------------------------------------------------------------------------
react-app/
public/
images/   # Static images (Corp. Logo, avatars, etc.) from project
vectors/  # SVG icons (chevron-right, scrollbar, separator, l.svg, **l-white.svg (BSPBlueprint logo with white wordmark for email template)**, icon-x.svg,
# layout-dashboard, building-2, map-pin, users, user-round-cog,
# user-round, shield, graduation-cap, credit-card, landmark, tag,
# file-question, book-open, activity, lock, file-spreadsheet, wrench,
# chart-bar, info, upload, file-text, chevron-down, check, bell,
# moon, panel-left, settings, share, **triangle-alert (NEW)**)
src/
components/
layout/   # SuperAdminLayout, SuperAdminSidebar, AppHeader, AuthPageFooter, MobileDashboardHeader (NEW - mobile Logo Wrapper with BSPBlueprintLogo, Icon panel-left, Icon ellipsis)
common/   # BackButton, Badge, SearchInput, BSPBlueprintLogo (supports variant="light" for white wordmark, e.g. email template), CountdownTimer, LinkButton, GlobalToast, SetupTag,
# Stepper (NEW - horizontal), Step (NEW), ProgressBar (NEW - linear), CardLayout (NEW), FormInput (NEW), FormSelect (NEW), FooterButtonGroup (NEW), Textarea (NEW),
# **NEW: Table (generic table wrapper), TableHeader (sortable columns), TableCell (content/secondaryContent/badgeProps/children for SeatUsageProgressBar), TablePagination. NEW: SeatUsageProgressBar (displays used/total and linear progress; common/)**
# **NEW: ExportReportButton**
# **UPDATED: TextInput (supports endAdornment for password visibility toggle, and `error` / `helperText` props for inline validation messages)**
# **NEW: PasswordInput (variant of TextInput with password visibility toggle; lucide-react Eye/EyeOff; icon glyph rgba(255, 255, 255, 1) (white) on adornment/button background rgba(73, 130, 145, 1); also supports `error` / `helperText` props; NOW integrates with PasswordStrengthIndicator when used in SetNewPasswordDialog; **value text color rgba(73, 130, 145, 1) and Inter 400 14px for entered input**)**
# **NEW: RememberMeSwitchGroup (Switch with "Remember me" label; ON state track rgba(48, 95, 161, 1), thumb white; OFF state track rgba(221, 217, 235, 1))**
# **NEW: PasswordStrengthIndicator (visually represents password strength with a progress bar and text label: 'Initial', 'Weak'/'Poor', 'Average', 'Strong'. Text label for 'Weak'/'Poor' state is Inter 500 12px, rgba(196, 71, 85, 1). Text label for 'Average' state is Inter 500 12px, rgba(203, 145, 39, 1). Text label for 'Strong' state is Inter 500 12px, rgba(47, 143, 107, 1). Progress bar track rgba(241, 240, 247, 1); Poor state fill rgba(196, 71, 85, 1); Average state fill rgba(224, 184, 74, 1); Strong state fill rgba(47, 143, 107, 1).)**
# **NEW: SuperAdminPersonaDisplay (Displays Super Admin persona and theme: frame background rgba(48, 95, 161, 1), text "Super Admin Persona - Light Theme" Inter 500 16px rgba(255, 255, 255, 1); role="region", aria-label="Super Admin Persona Details")**
auth/   # TwoFactorAuthDialog (UPDATED - Password Reset - 2FA structural data: optional inlineFormLayout prop, default true for horizontal "Enter code" label + CountdownTimer on same row; **dialog title "Password Reset"** (Inter, 600, 20px, rgba(47, 65, 74, 1)); id **2fa-dialog-title**; optional **onBackToLogin** prop for "Back to Login" button (background rgba(255, 255, 255, 1), text rgba(47, 65, 74, 1), Inter 600 14px); description, refined layout; supports inline error below OTP inputs; CountdownTimer hidden in error state; Verify Account button aria-label, aria-busy when verifying), OtpInputGroup (UPDATED - supports errorMessage, hasError/isInvalid, optional placeholderValueColor; aria-labelledby otp-input-label, aria-describedby otp-error-message when error), OtpInput (UPDATED - placeholder "0" with placeholderValueColor prop default rgba(56, 89, 102, 1); entered value rgba(47, 65, 74, 1); separator border rgba(221, 217, 235, 1); isError border rgba(161, 47, 63, 1)), ForgotPasswordDialog (NEW), **UPDATED: SetNewPasswordDialog (encapsulates password reset form: title "Set New Password", description, Password/Confirm Password inputs, PasswordStrengthIndicator, Reset Password and Back to Login buttons; supports inline validation and strength feedback; mobile responsive. Buttons use Inter 600 14px typography. **Reset Password button background now `rgba(99, 146, 205, 1)` (PRIMARY_ACCENT_BLUE) per structural data 'New Password - Reset'.)** **UPDATED: LoginCard (Paper wrapper for login form: title, description, Email/Password inputs, RememberMeSwitchGroup, Forgot Password link, Login button, Need help? + Contact Us; accommodates inline error messages; Email input: aria-invalid, aria-describedby="login-email-error", error message element id="login-email-error"; PasswordInput: error, helperText, valueTextColor rgba(47, 65, 74, 1), aria-invalid, aria-describedby="login-password-error". Mobile Login - Details Filled - Error state confirmed.)**
**email-templates/   # EmailVerificationCodeTemplate (2FA verification code email layout; logo container with white wordmark, content container, separator styling)**
company-creation/   # VerticalStepper, StepperStep, ProgressBar, InfoAlertCard, FileUploadInput,
# CustomSelect (ContactSelect, AuthMethodSelect, PasswordPolicySelect, TFARequirementSelect; supports readOnly prop for non-editable dropdowns),
# ActionButtonsGroup, FormCard, FormGroupLabel, TextInput (error state: border and focus ring rgba(161, 47, 63, 1); helper text id "{id}-error" for aria-describedby; placeholder text rgba(73, 130, 145, 1) per Login/structural data), RichCheckboxGroup,
# Switch, TrialPeriodSwitchGroup, RadioGroupField, AchBankTransferDetailsCard (NEW),
# SummaryCard (NEW), DataDisplayRow (NEW)
corporation-creation/   # CorporationBasicsCard (NEW), CorporationAddressCard (NEW), ExecutiveSponsorCard (NEW - supports collapsible prop for Edit Corporation page),
# PrimaryCorporateAdminCard (NEW), BillingFinanceContactCard (NEW), LegalComplianceContactCard (NEW),
# ReviewDataDisplayRow (NEW), CompanyReviewCard (NEW), CorporationLogoDisplay (NEW), CorporationConfirmationStep (NEW),
# AddCorporationCompanyModal (NEW - **MODIFIED: Now supports 'add' and 'edit' modes with conditional UI and read-only fields as per 'Edit Company Modal' spec**), CompanyActions (NEW), AddCompanyToListButton (NEW),
# CorporationCompanyAssignmentInfoCard (NEW), CompanyAssignmentList (NEW),
# QuickCompanyInfoStep (NEW - for Quick Setup Step 2: Company Details + Access Setup FormCards)
company-profile/   # ParentCorporationCard (NEW), CompanyBasicInfoCard (NEW), CompanyAddressCard (NEW) — FormCard variants for Company Profile Basic Info. tab
company-profile-config/   # DeleteCompanyButton (NEW), CompanyBadges (NEW), CompanyLogoPreview (NEW), CompanyConfigForm (NEW), CompanyKeyContactsForm (NEW), CompanyPlanAndSeatsForm (NEW), EditCompanyButton (NEW), ConfigDisplayRow (NEW), ViewLogoPreview (NEW), CompanyConfigView (NEW), CompanyKeyContactsView (NEW), CompanyPlanAndSeatsView (NEW), CompanyBasicInfoView (NEW), CompanyBasicInfoForm (NEW), CorporationConfigurationTabContent (DEPRECATED for /corporations/:id/profile config tab), CloseCorporationConfirmationModal (NEW), SuspendCorporationConfirmationModal (NEW), **NEW: DeleteCompanyConfirmationModal**
corporation-profile/   # NEW: CorporationBasicInfoView (view component for /corporations/:id/profile Basic Info. tab), **NEW: CorporationAuditLogTable (for /corporations/:id/profile Configuration tab - Audit Log table)**, **NEW: CorporationBasicInfoEditForm (edit form for /corporations/:id/edit Basic Info. tab - Corporation Basics, Address, Executive Sponsor cards; Cancel / Save & Update)**, **NEW: CorporationBrandingEditForm (edit form for /corporations/:id/edit Branding tab - Upload Logo, Logo Preview with CorporationLogoDisplay; Cancel / Save & Update)**, **NEW: CorporationEditCompaniesTabContent (component for /corporations/:id/edit Companies tab - displays assigned company list, add/edit/delete functionality via modals)**, **NEW: CorporationKeyContactsEditForm (edit form for /corporations/:id/edit Key Contacts tab - editable Primary Corporate Admin, placeholder for Billing/Finance and Legal/Compliance contacts)**, **NEW: PrimaryCorporateAdminEditCard (collapsible card with editable fields for Primary Corporate Admin)**, **NEW: CorporationSecurityConfigForm (edit form for /corporations/:id/edit Configuration tab - Default Security Posture: Password Policy, 2FA Requirement, Session Timeout; Cancel / Save & Update; success toast "Configuration saved")**
corporation-directory/ # **NEW: CorporationsDirectoryTable, CorporationActionsMenu, ViewCorporationDetailsButton**
**company-directory/   # CompanyDirectoryTable (paginated, sortable table: Company ID, Company Name, Status, Assigned Corporation, Plan, Seat Usage, Created On, Last Updated On, Actions), CompanyActionsCell (View/Edit/Delete icons), TableHeader, TableCell, TwoLineTableCell, TableCellSlider, TablePagination, PaginationButton**
dashboard/   # DashboardMetricCard, ExportButton (retained, but New ExportReportButton introduced for top-level dashboard), LineChart, IconHoverCard, CorporationDashboardContent (DEPRECATED for /corporations/:id/profile config tab, retained for potential use elsewhere for populated dashboard)
CompanyCard.jsx (Modified — includes CompanyActions for Edit/Delete in Add New Corporation Step 2)
ProfileTabs.jsx
pages/
**NEW: ForgotPasswordPage.jsx** (Renders the Forgot Password dialog and handles submit/back-to-login; uses forgotPasswordSlice and GlobalToast. **Fully responsive for mobile viewports.**)
**UPDATED: ResetPasswordPage.jsx** (Renders the SetNewPasswordDialog and handles new password submission via resetPasswordSlice; route /reset-password/:token; password strength indicator and inline validation; success redirect to /login with GlobalToast; fully responsive for mobile viewports, visually confirmed for 'poor', 'average', and 'strong' password strength states, and now explicitly confirms the "Reset Password" button background color `rgba(99, 146, 205, 1)` (PRIMARY_ACCENT_BLUE) per structural data 'New Password - Reset' and all other component stylings.
**Pixel-Perfect Visual Confirmation (from structural data 'New Password - Reset/ password strength indicator/ poor'):**
*   **Page Background:** `rgba(248, 247, 251, 1)`.
*   **`BSPBlueprintLogo`:** Uses `l.svg` with wordmark fill `rgba(0, 0, 0, 1)`.
*   **`SetNewPasswordDialog` (Container):** `background rgba(255, 255, 255, 1)`, `border-radius 8px`.
*   **Dialog Title ("Set New Password"):** `Inter, 600, 20px, rgba(47, 65, 74, 1)`.
*   **Dialog Description ("Must be at least 8 characters..."):** `Inter, 400, 14px, rgba(56, 89, 102, 1)`.
*   **Form Labels ("Password", "Confirm Password"):** `Inter, 500, 14px, rgba(47, 65, 74, 1)`.
*   **`PasswordInput` (Entered Value Text):** `Inter, 400, 14px, rgba(73, 130, 145, 1)`.
*   **`PasswordInput` (Visibility Toggle Icon):** Glyph `rgba(255, 255, 255, 1)` (white) on adornment background `rgba(73, 130, 145, 1)`.
*   **`PasswordStrengthIndicator` ("Poor" State):** Progress bar track: `rgba(241, 240, 247, 1)`; Progress bar fill: `rgba(196, 71, 85, 1)`; Text label ("Poor"): `Inter, 500, 12px, rgba(196, 71, 85, 1)`.
*   **"Reset Password" Button:** `background rgba(99, 146, 205, 1)` (PRIMARY_ACCENT_BLUE per structural data); text `rgba(255, 255, 255, 1)`, `Inter 600 14px`.
*   **"Back to Login" Button:** `background rgba(255, 255, 255, 1)`, text `rgba(47, 65, 74, 1)`, `Inter 600 14px`.
*   **`AuthPageFooter`:** All text (`Version 1.0`, `Privacy Policy | Terms of Use`) `Inter, 400, 14px, rgba(73, 130, 145, 1)`.)
**UPDATED: LoginPage.jsx** (Full login page: BSPBlueprintLogo, LoginCard, AuthPageFooter; background rgba(248, 247, 251, 1); handles email/password, Remember me, Forgot Password link, Contact Us; authSlice loginRequest, isLoggingIn, loginError, rememberMe, emailValidationError, passwordValidationError; client-side validation including inline error messages; success redirect to /dashboard; failed login shows GlobalToast. Mobile Login - Details Filled state visually confirmed for pixel perfection, with typography and colors matching specifications. Mobile Login - Details Filled - Error state confirmed.)
**UPDATED: DashboardPage.jsx** (Renders the Dashboard - Empty State, fetches dashboard data, manages empty/populated state; typography updated per mobile spec: page title 16px, empty state title 20px, description 14px; responsiveness handled by SuperAdminLayout. **Now includes `SuperAdminPersonaDisplay` to show the active user persona and theme**, using selectCurrentPersonaType and selectActiveThemePreference from authSlice.)
CorporationProfileConfigurationPage.jsx (Modified - Now displays CorporationBasicInfoView for its 'Basic Info.' tab (default) and **CorporationAuditLogTable** for its 'Configuration' tab. Edit button navigates to /corporations/:id/edit. Triggers CloseCorporationConfirmationModal and SuspendCorporationConfirmationModal from the main page actions.)
**EditCorporationPage.jsx (MODIFIED)** (Edit Corporation - Basic Details: tabs Basic Info. (default), Companies, Branding, Key Contacts, Configuration; Basic Info. tab renders CorporationBasicInfoEditForm; Branding tab renders CorporationBrandingEditForm; Companies tab renders CorporationEditCompaniesTabContent; **Key Contacts tab renders CorporationKeyContactsEditForm**; Configuration tab renders CorporationSecurityConfigForm (Default Security Posture form; Cancel / Save & Update; success toast "Configuration saved"); Cancel / Save & Update; success toasts "Basic Info. saved", "Branding saved", "Companies saved", **"Key Contacts saved"**, "Configuration saved".)
CorporationsDirectoryPage.jsx (**MODIFIED - Now renders CorporationsDirectoryTable with search, filters, pagination, and sort; page title "Corporations", description, "Add New Corporation" button.**)
**CompaniesDirectoryPage.jsx (NEW/UPDATED - Company Directory list page: SuperAdminLayout with children; page title "Companies", description "View and manage all companies across the platform"; "Add New Company" button to /companies/add; SearchInput (aria-label "Search company directory"); CustomSelect filters: Status, Plan, Assigned Corporation, Created On, Last Updated On; CompanyDirectoryTable; TablePagination "Showing X entries"; DeleteCompanyConfirmationModal; Redux companyDirectorySlice, companyConfigSlice setCompanyToDelete/deleteCompanyRequest, uiSlice open/close DeleteCompany modal.)**
CompanyConfigPage.jsx (Company Directory / View Details - Basic Info. tab default, Key Contacts, Plan & Seats, Configuration; Edit Company button opens AddCorporationCompanyModal in edit mode)
CompanyEditPage.jsx (Company Directory / Edit Details - Basic Info., Configuration, Key Contacts, Plan & Seats forms)
TwoFactorAuthPage.jsx (MODIFIED - Renders TwoFactorAuthDialog with Password Reset - 2FA structural data: page background rgba(248, 247, 251, 1); inlineFormLayout default for label+countdown same line; **title "Password Reset"**, **onBackToLogin** navigates to /login; passes otpErrorMessage from selectOtpValidationError for inline OTP error state; dialog aria-labelledby 2fa-dialog-title.)
AddCompanyPage.jsx
AddCorporationPage.jsx (NEW - supports Quick Setup and Advance Setup flows; conditional Step 2 and step count)
store/
index.js   # configureStore; redux-persist: persistReducer for auth slice (whitelist maskedEmailToDisplay, emailToVerify, **rememberMe**, **currentPersonaType**, **activeThemePreference**), persistStore exported as persistor; **forgotPassword reducer registered**; **resetPassword reducer registered**; **companyDirectory reducer registered**; middleware ignores persist actions for serializableCheck
slices/
**NEW: forgotPasswordSlice.js** (status: 'idle'|'pending'|'success'|'error', error: string|null; sendPasswordResetInstructions thunk; resetForgotPasswordState action; selectForgotPasswordStatus, selectForgotPasswordError selectors.)
**NEW: resetPasswordSlice.js** (Manages state for new password submission. State: password, confirmPassword, passwordStrength ('initial'|'weak'|'average'|'strong'), validationErrors (password array, confirmPassword string), status ('idle'|'pending'|'success'|'error'), error. Actions: setPassword, setConfirmPassword, setPasswordStrength, setPasswordValidationErrors, setConfirmPasswordValidationError, resetPasswordState, setStatus, setError. Thunk: resetPasswordRequest({ token, password }). Selectors: selectPassword, selectConfirmPassword, selectPasswordStrength, selectPasswordValidationErrors, selectConfirmPasswordValidationError, selectIsPasswordResetFormValid, selectResetPasswordStatus, selectResetPasswordError.)
corporationsSlice.js (Modified - Now includes selectors selectCorporationSecurityConfig, selectCorporationBrandingConfig, selectCurrentCorporationLoading. Now includes async thunk closeCorporationRequest and state for closeCorporationStatus, closeCorporationError. UPDATED: selectedTab default is 'basic-info'; currentCorporation holds corporation-level basic info, executiveSponsor, keyContacts, address, createdOn, corporationCode, status for CorporationBasicInfoView. **UPDATED: The Configuration tab now uses Audit Log state instead of dashboard. New state: `currentCorporationAuditLog` (data, totalEntries), `auditLogLoading`, `auditLogError`, `auditLogFilters` (searchText, actionType, timeRange), `auditLogPagination` (currentPage, itemsPerPage), `auditLogSort` (column, direction). New thunk: `fetchCorporationAuditLogData`. New actions: `setAuditLogSearchText`, `setAuditLogFilter`, `setAuditLogPage`, `setAuditLogSort`. New selectors: `selectCorporationAuditLogData`, `selectAuditLogTotalEntries`, `selectAuditLogLoading`, `selectAuditLogError`, `selectAuditLogFilters`, `selectAuditLogPagination`, `selectAuditLogSort`. Dashboard state (currentCorporationDashboard, fetchCorporationDashboardData, etc.) retained but deprecated for this tab.** **NEW: Now includes async thunk `suspendCorporationRequest` and state for `suspendCorporationStatus`, `suspendCorporationError`. Includes selectors `selectSuspendCorporationStatus`, `selectSuspendCorporationError`.** **NEW: Corporation Directory list state: `corporationsList`, `listLoading`, `listError`, `listFilters` (searchText, status, timeRange), `listPagination` (currentPage, itemsPerPage, totalEntries), `listSort` (column, direction), `selectedCorporationIdForActions`. New thunk: `fetchCorporationsList`. New actions: `setListSearchText`, `setListStatusFilter`, `setListTimeRangeFilter`, `setListPage`, `setListItemsPerPage`, `setListSortColumn`, `setListSortDirection`, `setSelectedCorporationForActions`. New selectors: `selectCorporationsList`, `selectCorporationsListLoading`, `selectCorporationsListError`, `selectListFilters`, `selectListPagination`, `selectListSort`, `selectSelectedCorporationIdForActions`.** **NEW: Edit Corporation Basic Info save: state `corporationEditSaveStatus`, `corporationEditSaveError`; thunk `updateCorporationBasicInfoRequest`; reducer `resetCorporationEditSaveStatus`; selectors `selectCorporationEditSaveStatus`, `selectCorporationEditSaveError`.** **NEW: Edit Corporation Branding save: state `editingCorporationBranding: { status: 'idle'|'pending'|'success'|'error', error: string | null }`; thunk `updateCorporationBrandingRequest`; actions `setEditingCorporationBrandingStatus`, `setEditingCorporationBrandingError`, `resetEditingCorporationBrandingState`; selectors `selectEditingCorporationBrandingStatus`, `selectEditingCorporationBrandingError`, `selectCurrentCorporationLogoUrl`.** **NEW: Edit Corporation - Companies tab: state `currentCorporationCompanies: Company[]`, `isUpdatingCorporationCompanies: 'idle'|'pending'|'success'|'error'`, `updateCorporationCompaniesError: string | null`; thunks `fetchCorporationCompaniesRequest`, `updateCorporationCompaniesRequest`; actions `setCorporationCompanies`, `setUpdatingCorporationCompaniesStatus`, `setUpdatingCorporationCompaniesError`, `resetUpdatingCorporationCompaniesState`; selectors `selectEditCorporationCompanies`, `selectIsUpdatingCorporationCompanies`, `selectUpdateCorporationCompaniesError`.** **NEW: Edit Corporation - Configuration tab: state `currentCorporationSecurityConfigFormData`, `updateCorporationSecurityConfigStatus` ('idle'|'pending'|'success'|'error'), `updateCorporationSecurityConfigError`; thunk `updateCorporationSecurityConfigRequest`; actions `updateCorporationSecurityConfigField`, `setCorporationSecurityConfigFormData`, `setUpdateCorporationSecurityConfigStatus`, `setUpdateCorporationSecurityConfigError`, `resetCorporationSecurityConfigEditState`; selectors `selectCurrentCorporationSecurityConfigFormData`, `selectUpdateCorporationSecurityConfigStatus`, `selectUpdateCorporationSecurityConfigError`, `selectIsCorporationSecurityConfigFormValid`.** **NEW: Edit Corporation - Key Contacts tab: state `currentCorporation.keyContacts.primaryCorporateAdmin` (type PrimaryCorporateAdminFormData: name, role, email, workPhoneNo, cellPhoneNo), `updateCorporationKeyContactsStatus` ('idle'|'pending'|'success'|'error'), `updateCorporationKeyContactsError`; thunk `updateCorporationKeyContactsRequest`; actions `setPrimaryCorporateAdminField`, `setUpdateCorporationKeyContactsStatus`, `setUpdateCorporationKeyContactsError`, `resetUpdateCorporationKeyContactsState`; selectors `selectCurrentCorporationPrimaryCorporateAdminFormData`, `selectUpdateCorporationKeyContactsStatus`, `selectUpdateCorporationKeyContactsError`, `selectIsCorporationKeyContactsFormValid`.**)
uiSlice.js (Modified - Now includes `isCloseCorporationModalOpen` state and actions `openCloseCorporationModal`, `closeCloseCorporationModal`. **NEW: Now includes `isSuspendCorporationModalOpen` state and actions `openSuspendCorporationModal`, `closeSuspendCorporationModal`, selector `selectIsSuspendCorporationModalOpen`.** **NEW: Now includes `isDeleteCompanyModalOpen` state and actions `openDeleteCompanyModal`, `closeDeleteCompanyModal`, selector `selectIsDeleteCompanyModalOpen`.** **NEW: Now includes `isEditCompanyModalOpen` state and actions `openEditCompanyModal`, `closeEditCompanyModal`, selector `selectIsEditCompanyModalOpen`.** **NEW: Now includes `activeSidebarItem` state and actions `setActiveSidebarItem`, selector `selectActiveSidebarItem`.** **NEW: Now includes `isMobileSidebarOpen` state and actions `openMobileSidebar`, `closeMobileSidebar`, selector `selectIsMobileSidebarOpen` for responsive layout management.**)
**UPDATED: authSlice.js** (Modified - **Now includes isLoggingIn, loginError, rememberMe, emailValidationError, passwordValidationError, otpValidationError states; setIsLoggingIn, setLoginError, setRememberMe, clearLoginError, setEmailValidationError, clearEmailValidationError, setPasswordValidationError, clearPasswordValidationError, setOtpValidationError, clearOtpValidationError, loginSuccess, loginFailure actions; loginRequest async thunk (simulated API: fail for fail@test.com, succeed otherwise; redirect on success); selectIsLoggingIn, selectLoginError, selectRememberMe, selectEmailValidationError, selectPasswordValidationError, selectOtpValidationError selectors. rememberMe whitelisted for redux-persist. 2fa verify flow: verifyCodeSuccess clears otpValidationError; verifyCodeFailure sets otpValidationError to "The verification code is invalid." for inline display. **NEW: Now includes `currentPersonaType: string | null` and `activeThemePreference: 'light' | 'dark'` states to store the Super Admin's persona type and selected theme (default 'light'). New actions: `setCurrentPersonaType(type: string)` and `setActiveThemePreference(preference: 'light' | 'dark')`. New selectors: `selectCurrentPersonaType` and `selectActiveThemePreference`. Both `currentPersonaType` and `activeThemePreference` are whitelisted for `redux-persist`. loginSuccess sets default persona/theme when null.**)
companyCreationSlice.js
corporationCreationSlice.js (NEW)
**NEW: dashboardSlice.js** (Manages state for the top-level dashboard data, loading, error, and empty state.)
**companyDirectorySlice.js** (Company Directory list: companies, pagination, filters status/assignedCorporationId/plan/createdOnRange/lastUpdatedOnRange, searchTerm, sort; fetchCompanies thunk; setSearchTerm, setFilter, setSort, setCurrentPage; selectCompaniesData, selectCompanyDirectoryPagination, selectCompanyDirectoryFilters, selectCompanyDirectorySort, selectCompanyDirectoryLoading, selectCompanyDirectoryError.)
companyConfigSlice.js (NEW - **Modified: Now includes `companyToDeleteId`, `companyToDeleteName`, `isDeletingCompany`, `deleteCompanyError` states and `setCompanyToDelete`, `clearCompanyToDelete`, `setIsDeletingCompany`, `setDeleteCompanyError` actions, and `deleteCompanyRequest` async thunk. New selectors: `selectCompanyToDeleteId`, `selectCompanyToDeleteName`, `selectIsDeletingCompany`, `selectDeleteCompanyError`.** **NEW: Also includes `companyBeingEditedId`, `companyEditFormData`, `companyEditSaveStatus`, `companyEditSaveError` states for the Edit Company modal when invoked from Company View Details; `setCompanyBeingEditedId`, `setCompanyEditFormData`, `setCompanyEditSaveStatus`, `setCompanyEditSaveError`, `resetCompanyEditFormState` actions; `fetchCompanyForEditModal`, `updateCompanyBasicAndAccessInfoRequest` async thunks; and selectors `selectCompanyBeingEditedId`, `selectCompanyEditFormData`, `selectCompanyEditFormValidation`, `selectCompanyEditSaveStatus`, `selectCompanyEditSaveError`, `selectIsCompanyEditFormValid`.**)
theme/
theme.js   # MUI theme with spec colors and typography
data/
mockCorporation.js (Modified - Now includes securityConfig and logoUrl for corporation profile. UPDATED: Now includes legalName, dbaName, corporatePhoneNo, regionDataResidency, industry, websiteUrl, address (object), timeZone, createdOn, executiveSponsor, keyContacts, corporationCode, status for Corporation Profile Basic Info. tab. **UPDATED: `keyContacts` now includes `primaryCorporateAdmin: PrimaryCorporateAdminFormData` (name, role, email, workPhoneNo, cellPhoneNo) for Edit Corporation - Key Contacts tab; `billingFinanceContactId`, `legalComplianceContactId`; display strings `billingFinanceContact`, `legalComplianceContact` for profile view.** **NEW: May include `isSuspended`, `suspensionReason`, `suspensionNotes` for suspend status. May include `auditLog` data structure or reference to mockAuditLog.js.** **NEW: May include `companies: Company[]` for the Edit Corporation - Companies tab.** **UPDATED: `securityConfig` for Edit Corporation - Configuration tab: `passwordPolicy` (string, option value e.g. 'standard'), `tfaRequirement` (string, option value e.g. 'required'), `sessionTimeout` (number, minutes).**)
mockDashboard.js (DEPRECATED for /corporations/:id/profile config tab, retained for use in /dashboard)   # For Corporation Profile - Dashboard content (metric cards, chart data)
mockTimeAggregationOptions.js (DEPRECATED for /corporations/:id/profile config tab, retained for potential future use)   # For LineChart time aggregation dropdown
**mockAuditLog.js (NEW)**   # For Corporation Profile - Audit Log table content (AuditLogEntry objects, mockActionTypes, mockTimeRanges, getMockAuditLog)
mockRosters.js
mockAuthMethods.js   # For Authentication Method dropdown
mockPasswordPolicies.js # For Password Policy dropdown
mockTFARequirements.js # For 2FA Requirement dropdown
mockDashboardOptions.js # For RichCheckboxGroup
mockPilotLengths.js   # For Pilot Length dropdown in Step 3 (also used for Trial Length)
mockPilotSeats.js   # For Pilot Seats dropdown in Step 3 (also used for Trial Seats)
mockPlans.js   # For Plan dropdown in Step 3
mockBillingCycles.js # For Billing Cycle dropdown in Step 3
mockPaymentTypes.js  # For Payment Type dropdown in Step 3 (now includes Wiring option and ACH Bank Transfer)
mockBillingCurrencies.js # For Billing Currency dropdown in Step 3
mockCountries.js   # For Country dropdown in Step 3 (used for Billing Country and Bank Country)
mockAccountTypes.js  # NEW: For Account Type dropdown in Step 3 (ACH Bank Transfer)
mockPaymentDirections.js # NEW: For Payment Direction dropdown in Step 3 (ACH Bank Transfer)
mockRegions.js (NEW)   # For Region dropdown in Add New Corporation - Step 1
mockIndustries.js (NEW)   # For Industry dropdown in Add New Corporation - Step 1
mockStates.js (NEW)   # For State/Province dropdown in Add New Corporation - Step 1
mockCities.js (NEW)   # For City dropdown in Add New Corporation - Step 1
mockCorporationCountries.js (NEW)   # For Country dropdown in Add New Corporation - Step 1
mockTimeZones.js (NEW)   # For Time Zone dropdown in Add New Corporation - Step 1 and in AddCorporationCompanyModal
mockCorporationCompanies.js (NEW)   # For Add New Corporation - Step 2 (sample companies for list or dialog)
mockCompanyTypes.js (NEW)   # For Company Type dropdown in AddCorporationCompanyModal
mockOfficeTypes.js (NEW)   # For Office Type dropdown in AddCorporationCompanyModal and Add New Company Step 1
mockOwnershipTypes.js (NEW)   # For Ownership Type dropdown in Add New Company Step 1 (Parent Corporation)
mockPrimaryLanguages.js (NEW)   # For Primary Language dropdown in Add New Company Step 1
mockCorporationCloseReasons.js (NEW) # For Pre-defined Reasons dropdown in Close Corporation Confirmation Modal
**mockCorporationSuspendReasons.js (NEW)** # For Pre-defined Reasons dropdown in Suspend Corporation Confirmation Modal
mockCompanyConfig.js (NEW)   # For Company Profile - company name, status badges, defaultBasicInfo **(UPDATED: Includes timeZone, adminName, companyAdminEmail, numEmployees, securityPosture for Edit Company modal.)**
**mockCorporationsList.js (NEW)**   # For Corporation Directory - mock CorporationListItem data (id, name, region, status, executiveSponsor, numCompanies, createdOn), getMockCorporationsList, STATUS_FILTER_OPTIONS, TIME_RANGE_OPTIONS (parentCorporationLegalName, parentName, ownershipType, companyLegalName, dbaTradeName, websiteUrl, companyType, officeType, regionDataResidency, region, industry, companyPhoneNo, primaryLanguage, companyAddress, addressLine, stateProvince, city, country, zipPostalCode), default config, plan & seats
**mockCompaniesDirectory.js (UPDATED)**   # For Company Directory list (/companies): CompanyItem[] (id, name, region, status, assignedCorporation { name, corpCode } | 'NA', plan, seatUsage { used, total }, createdOn, lastUpdatedOn), getMockCompaniesDirectory, STATUS_FILTER_OPTIONS, PLAN_FILTER_OPTIONS, ASSIGNED_CORPORATION_FILTER_OPTIONS, TIME_RANGE_OPTIONS
App.jsx   # **BrowserRouter; route /2fa/email-preview renders EmailVerificationCodeTemplate (preview)**
main.jsx   # **Provider (react-redux), PersistGate (redux-persist/integration/react), ThemeProvider, CssBaseline; store and persistor from ./store**
e2e/
**NEW: forgot-password.spec.js** (E2E tests for Forgot Password page: logo, footer, title, description, Email label/input, Send Instructions disabled/enabled/loading, Back to Login to /login, client-side validation, success toast and redirect to /login, error toast on failed submission.)
**UPDATED: reset-password.spec.js** (E2E tests for Reset Password page: BSPBlueprintLogo, AuthPageFooter, "Set New Password" title/description, Password/Confirm Password labels and inputs, password visibility toggle, password strength indicator (Initial then Weak/Average/Strong as user types, including "Poor" and "Strong" text labels with correct styling, progress bar fill and aria-valuenow for Strong state, "Average" text label with correct styling and progress bar fill for the average state), **explicit test "password strength indicator Poor state has correct progress bar fill and label styling" (Poor label color rgba(196, 71, 85, 1), progress bar fill rgba(196, 71, 85, 1), aria-valuenow 33, aria-valuetext "Password strength: Poor")**, **explicit test "password strength indicator Strong state has correct progress bar fill and label styling" (Strong label color rgba(47, 143, 107, 1), progress bar fill rgba(47, 143, 107, 1), aria-valuenow 100, aria-valuetext "Password strength: Strong")**, Reset Password button disabled/enabled/loading, Back to Login to /login, client-side validation for complexity and mismatch, success toast and redirect, invalid token error toast; mobile viewport coverage. Now includes explicit verification of the "Reset Password" button background color `rgba(99, 146, 205, 1)` (PRIMARY_ACCENT_BLUE) per structural data and confirmation of all other specified visual attributes and typography for mobile viewports, including pixel-perfect validation for the "Poor" and "Strong" strength states.)
**UPDATED: dashboard.spec.js** (E2E tests for the Dashboard page, including empty state content, "Export Report" button, sidebar active state, and mobile viewport tests: mobile header with Logo Wrapper/panel-left/ellipsis, updated typography, Toggle navigation menu opens mobile sidebar. **NEW: Verify `SuperAdminPersonaDisplay` is rendered: region with aria-label "Super Admin Persona Details", text "Super Admin Persona - Light Theme", correct background color rgba(48, 95, 161, 1), text color rgba(255, 255, 255, 1), font-weight 500, font-family Inter.**)
corporation-profile.spec.js (Modified - Now includes tests for updated Configuration tab content; **NEW: test "Edit button navigates to Edit Corporation page" (Edit button navigates to /corporations/:id/edit, verifies Basic Info. tab, tabs Companies/Branding/Key Contacts/Configuration, Corporation Basics/Address/Executive Sponsor cards, Cancel and Save & Update buttons).** **NEW: Tests for Branding tab: navigate to /corporations/:id/edit, click Branding tab; verify section title "Branding", description "Configure corporation identity...", Upload Logo label, FileUploadInput (instructions, supported formats), Logo Preview, CorporationLogoDisplay; Save & Update disabled when no file; Cancel navigates to profile; file selection enables Save & Update; Save shows "Saving Branding..." and success toast "Branding saved".** **NEW: Tests for Companies tab: navigate to /corporations/:id/edit, click Companies tab; verify "Company Setup" heading, description, "Companies (X)" label, CorporationCompanyAssignmentInfoCard; verify company cards (e.g. Tech Ventures Digital, Innovation Labs, Marit Inc.) and "Add New Company" button; Add New Company opens AddCorporationCompanyModal (add mode); Save & Update enabled when companies exist, shows "Companies saved" toast on save.** **MODIFIED: Add tests for editing an existing company in the Companies tab: verify clicking Edit button on a CompanyCard opens AddCorporationCompanyModal in edit mode; verify modal title "Edit Company", description "Modify company details", Close edit company form button; verify Region (Data Residency), Industry, Security Posture are read-only (aria-readonly); verify "Save and update company details" button; modify a field and Save & Update closes modal.** **NEW: Tests for Key Contacts tab: navigate to /corporations/:id/edit, click Key Contacts tab; verify section title "Key Contacts", description "Define governance...", "Primary Corporate Admin" card (initially expanded, chevron-down icon), TextInput fields Name, Role, Email, Work Phone No., Cell Phone No. visible and pre-filled with mock data; required asterisks for Name, Role, Email, Work Phone No.; "Billing/ Finance Contact" and "Legal/ Compliance Contact" cards with titles and chevron-right icons (no input fields); Cancel and Save & Update buttons; Save & Update disabled when no changes; collapsing/expanding Primary Corporate Admin card; clearing required field shows validation error and disables Save; modifying field enables Save & Update, loading state "Saving Key Contacts...", success toast "Key Contacts saved"; Cancel navigates to profile.** **NEW: Tests for Configuration tab (Edit Corporation): navigate to /corporations/:id/edit, click Configuration tab; verify section title "Configuration", description "Edit security posture & related settings", FormCard "Default Security Posture", labels Password Policy, 2FA Requirement, Session Timeout (In Minutes), Cancel and Save & Update buttons; Save & Update enabled when required fields have values, shows "Configuration saved" toast on save.** (**audit log table: SearchInput, CustomSelects "Filter by action types"/"Filter by time range", Table with column headers Timestamp/Actions/Status/Actor, Status badges, TablePagination "Showing X entries", Previous/Next page buttons**), action buttons, and badges. Now includes tests for CloseCorporationConfirmationModal interaction. **NEW: Now includes tests for SuspendCorporationConfirmationModal interaction (opening, content verification, required reason validation, Cancel/close icon, submit closes modal and success toast).** UPDATED: Default active tab is "Basic Info."; tests verify Basic Info. tab content: Corporation Basics, Executive Sponsor, Key Contacts cards and ConfigDisplayRow labels/values; Configuration tab reached by clicking tab. **Navigates from directory via View details button.**)
**corporations-directory.spec.js (NEW)**   # E2E tests for Corporation Directory: page title/description, Add New Corporation button, SearchInput and CustomSelect filters, table headers and data, status badges, pagination, View details navigation to profile.
**companies-directory.spec.js (UPDATED)**   # E2E tests for Company Directory (/companies): page title "Companies", description "View and manage all companies across the platform", Add New Company button, SearchInput and filters (Status, Plan, Assigned Corporation, Created On, Last Updated On), table columns (Company ID, Company Name, Status, Assigned Corporation, Plan, Seat Usage, Created On, Last Updated On, Actions), View/Edit/Delete actions (CompanyActionsCell), SeatUsageProgressBar, TablePagination "Showing X entries", DeleteCompanyConfirmationModal
company-config.spec.js (NEW - **Modified: Now includes tests for DeleteCompanyConfirmationModal interaction (opening, content verification with company name, Cancel/Delete Company buttons, submit closes modal and redirects, error handling).** **MODIFIED: Edit Company button on Company View Details opens AddCorporationCompanyModal in edit mode (title "Edit Company", description "Modify company details", read-only fields, Save and update company details button, Close edit company form); test for Save & Update submits and shows "Company updated" toast.**)
two-factor-auth.spec.js (Modified - **NEW: test "email template preview shows verification code layout (logo, content, code)" for /2fa/email-preview.** **UPDATED: Tests for Password Reset - 2FA `/2fa/verify` page: "Password Reset" title (id 2fa-dialog-title), "We've sent a 6-digit code..." description with masked email, "Enter code" label and countdown timer on same row, OTP inputs placeholder "0" (placeholderValueColor), "Verify Account" button (label, state), "Back to Login" button (navigates to /login), "Didn't receive a code?" and "Resend Code" link. Accessibility: dialog aria-labelledby 2fa-dialog-title, OTP group aria-labelledby otp-input-label. Error state: inline error "The verification code is invalid." (id otp-error-message, role alert); OTP digits retained; CountdownTimer hidden in error state; GlobalToast filter for "We couldn't verify your credentials." and "Kindly get a new code & try again."**)
add-company.spec.js
add-corporation.spec.js (NEW)
**UPDATED: login.spec.js** (E2E tests for Login page: BSPBlueprintLogo, LoginCard, title "Welcome back!", description, Email/Password labels and inputs, password visibility toggle, Remember me switch, Forgot Password link to /forgot-password, Login button disabled/enabled/loading, client-side validation; verify inline error message for invalid email ("Your email address is invalid." with correct text and position; error message element id="login-email-error" for accessibility); verify Login button remains disabled when inline email or password error is present; empty password blur shows "Please enter your password."; successful login redirect to /dashboard, failed login GlobalToast, Need help? text, Contact Us link, AuthPageFooter. The "Mobile Login - Details Filled" state is visually validated in E2E tests, ensuring pixel-perfect rendering of filled inputs, active "Remember me" switch, and enabled "Login" button on mobile viewports.)
playwright.config.js
--------------------------------------------------------------------------------
3. ASSETS (IMAGES & VECTORS)
--------------------------------------------------------------------------------
- Images are served from public/images/ (e.g. /images/Corp. Logo-3905dfcc.png, /images/Image-5e3027d6.png for user avatar, /images/Logo 1-c24ca4a3.png for corporation logo display).
- Vectors are in public/vectors/ (e.g. icon-chevron-right.svg, scrollbar.svg,
l.svg (BSPBlueprint logo with updated internal vector coloring: rgba(97, 164, 122, 1), rgba(207, 90, 91, 1), rgba(131, 132, 133, 1), rgba(59, 101, 156, 1), **and wordmark fill rgba(0, 0, 0, 1)** — used in-app; sidebar and general use). **l-white.svg (BSPBlueprint logo same symbol colors, wordmark fill rgba(255, 255, 255, 1) for dark backgrounds; used in EmailVerificationCodeTemplate logo container). NOTE: Wordmark color discrepancy — existing doc specifies l.svg wordmark black; email template spec requires white wordmark; l-white.svg resolves this for the email template only.** separator.svg (OTP input divider; also referenced for email template separator styling #DDD9EB), icon-x.svg
(for GlobalToast dismissal AND AddCorporationCompanyModal dismissal AND CloseCorporationConfirmationModal dismissal AND SuspendCorporationConfirmationModal dismissal **AND DeleteCompanyConfirmationModal dismissal AND Edit Company Modal dismissal**). Lucide-react icons are used in-app for sidebar
and company-creation components, including:
- Header: Icon / moon, Icon / bell
- Sidebar: Icon / panel-left, Icon / layout-dashboard, Icon / building-2, Icon / map-pin, Icon / users, Icon / user-round-cog, Icon / user-round, Icon / shield, Icon / graduation-cap, Icon / credit-card, Icon / landmark, Icon / tag, Icon / file-question, Icon / book-open, Icon / activity, Icon / lock, Icon / file-spreadsheet, Icon / wrench, Icon / chart-bar, Icon / bell, Icon / settings.
- Stepper: Icon / check.
- Info Alert Card: Icon / info.
- File Uploader: Icon / upload.
- Step 3: Icon / info (NO LONGER USED for Pilot Seats, now Trial Seats).
- NEW: Icon / zap (for Setup Tag - Quick Setup, color rgba(58, 111, 216, 1)). Icon / sliders-vertical (for Setup Tag - Advance Setup). Icon / building-2 (for CompanyReviewCard in Add New Corporation - Step 5 and for CompanyCard in Step 2, color rgba(48, 95, 161, 1) on rgba(231, 237, 247, 1) background). Icon / trash-2 (for DeleteCompanyButton on Company Profile pages and for CompanyActions Delete in Add New Corporation Step 2, color rgba(196, 71, 85, 1)). **Icon / square-pen** (for EditCompanyButton on Company Profile - Basic Info. / View Details page: white rgba(255, 255, 255, 1) on blue background rgba(48, 95, 161, 1), aria-label "Edit company basic information"; for CompanyActions Edit in Add New Corporation Step 2, color rgba(52, 76, 86, 1)). **Icon / plus** (for AddCompanyToListButton in Add New Corporation Step 2, color rgba(48, 95, 161, 1)). **Icon / chevron-left** (for BackButton on Company Profile pages, color rgba(52, 76, 86, 1)). **Icon / panel-left (sidebar toggle) color rgba(73, 130, 145, 1). Icon / settings stroke color rgba(52, 76, 86, 1). NEW: Icon / ban (for CloseCorporationConfirmationModal danger alert, color rgba(196, 71, 85, 1)). **NEW: Icon / triangle-alert (for SuspendCorporationConfirmationModal danger alert, color rgba(196, 71, 85, 1)).** **NEW: Icon / search (for SearchInput on Corporation Profile Configuration tab - Audit Log and Corporation Directory, color rgba(73, 130, 145, 1)). NEW: Icon / arrow-up-down (for TableHeaders on Audit Log and Corporation Directory, color rgba(217, 217, 217, 1); public/vectors/icon-arrow-up-down.svg).** **NEW: Icon / eye (View details in Corporation Directory table, color rgba(0, 0, 0, 1)). NEW: Icon / ellipsis-vertical (More actions menu in Corporation Directory table, color rgba(47, 65, 74, 1); lucide-react MoreVertical).** **NEW: Icon / share (for Export Report Button on Dashboard, color rgba(255, 255, 255, 1)).** Icon / share no longer used for Configuration tab (Export button deprecated for this tab). **NEW: Icon / eye-off and Icon / eye (lucide-react; for PasswordInput visibility toggle on Login page, ForgotPasswordDialog, and SetNewPasswordDialog, color rgba(73, 130, 145, 1)). NEW: Icon / ellipsis (lucide-react MoreVertical; for mobile header "More options" in Logo Wrapper, color rgba(73, 130, 145, 1)).**
--------------------------------------------------------------------------------
4. ROUTES
--------------------------------------------------------------------------------
/   -> Redirects to /corporations (NOTE: Consideration for /dashboard as new default entry point)
**/dashboard   -> UPDATED: Dashboard Page (empty state or populated; responsive layout for mobile with MobileDashboardHeader and drawer sidebar. **Now includes the `SuperAdminPersonaDisplay` component.**)**
**/forgot-password   -> NEW: Forgot Password Page (user account recovery; BSPBlueprintLogo, ForgotPasswordDialog, AuthPageFooter; **fully responsive for mobile viewports as per structural data**)**
**/reset-password/:token   -> UPDATED: Reset Password Page (sets new password after Forgot Password flow; BSPBlueprintLogo, SetNewPasswordDialog with new/confirm password inputs, PasswordStrengthIndicator, action buttons; AuthPageFooter; fully responsive for mobile viewports, visually confirmed for 'poor', 'average', and 'strong' password strength states. The page's primary "Reset Password" button uses background color `rgba(99, 146, 205, 1)` (PRIMARY_ACCENT_BLUE) per structural data 'New Password - Reset'. The :token URL parameter is required for authorization. Pixel-Perfect Visuals from structural data 'New Password - Reset/ password strength indicator/ poor' and 'strong': Page background rgba(248, 247, 251, 1); BSPBlueprintLogo l.svg wordmark rgba(0, 0, 0, 1); SetNewPasswordDialog background rgba(255, 255, 255, 1), border-radius 8px; Dialog title Inter 600 20px rgba(47, 65, 74, 1); Description Inter 400 14px rgba(56, 89, 102, 1); Form labels Inter 500 14px rgba(47, 65, 74, 1); PasswordInput value text Inter 400 14px rgba(73, 130, 145, 1), visibility toggle icon white on rgba(73, 130, 145, 1); PasswordStrengthIndicator Poor state: track rgba(241, 240, 247, 1), fill rgba(196, 71, 85, 1), label "Poor" Inter 500 12px rgba(196, 71, 85, 1); Strong state: track rgba(241, 240, 247, 1), fill rgba(47, 143, 107, 1), label "Strong" Inter 500 12px rgba(47, 143, 107, 1); Reset Password button rgba(99, 146, 205, 1), text white Inter 600 14px; Back to Login background white, text rgba(47, 65, 74, 1) Inter 600 14px; AuthPageFooter text Inter 400 14px rgba(73, 130, 145, 1).)**
**/login   -> Login page (full authentication: BSPBlueprintLogo, LoginCard with Email/Password, Remember me, Forgot Password link, Login button; AuthPageFooter; now includes inline validation messages for form fields (e.g. "Your email address is invalid."); success redirect to /dashboard; Forgot Password link to /forgot-password. Confirmed for mobile "Details Filled" state with visual attributes matching structural data.)**
/corporations   -> Corporation Directory (list/landing) **(Now renders CorporationsDirectoryPage with table, filters, sorting, pagination)**
**/companies   -> Company Directory (list/landing) (Now renders CompaniesDirectoryPage with paginated, sortable, filterable CompanyDirectoryTable; SearchInput, CustomSelect filters Status/Plan/Assigned Corporation/Created On/Last Updated On; "Add New Company" to /companies/add; TablePagination "Showing X entries"; DeleteCompanyConfirmationModal.)**
/corporations/:id/profile   -> Corporation Profile (Basic Info. tab default; Key Contacts, Plan & Seats, Configuration tab with **audit log table content**)
/corporations/:id/edit   -> **NEW: Edit Corporation - Basic Details** (tabs: Basic Info. (default), Companies, Branding, Key Contacts, Configuration; Basic Info. tab with CorporationBasicInfoEditForm; Branding tab with CorporationBrandingEditForm; Companies tab with CorporationEditCompaniesTabContent (functional); **Key Contacts tab with CorporationKeyContactsEditForm (functional)**; Configuration tab with CorporationSecurityConfigForm (Default Security Posture: Password Policy, 2FA Requirement, Session Timeout; Cancel / Save & Update; toast "Configuration saved"); Cancel / Save & Update; toasts "Basic Info. saved", "Branding saved", "Companies saved", **"Key Contacts saved"**, "Configuration saved")
/companies/:id   -> Company Profile - View Details page (Basic Info. tab default, Key Contacts, Plan & Seats, Configuration; company name, badges, tabs, Edit Company button, Delete)
/companies/:id/edit   -> Company Profile - Edit Details page (Basic Info., Configuration, Key Contacts, Plan & Seats forms; Save & Update / Cancel / Delete)
/2fa/verify   -> Two-Factor Authentication verification page (**UPDATED - Password Reset - 2FA: TwoFactorAuthPage with page background rgba(248, 247, 251, 1); TwoFactorAuthDialog with **title "Password Reset"** (id 2fa-dialog-title), inlineFormLayout (label "Enter code" and CountdownTimer on same line), description; **"Back to Login" button** (onBackToLogin to /login); OTP placeholder color rgba(56, 89, 102, 1) via placeholderValueColor; CountdownTimer hidden in error state. Inline error "The verification code is invalid." below OTP inputs; entered digits typography/color per spec.**)
**/2fa/email-preview   -> Email Template - Verification Code preview (EmailVerificationCodeTemplate; for dev/preview only)**
/companies/add   -> Add New Company - Multi-step Onboarding (Entry point)
/corporations/add   -> Add New Corporation - Multi-step Onboarding (Entry point). **Quick Setup (default):** 3 steps — Basic Info., Company Info. & Access Setup, Confirmation. **Advance Setup (?flow=advance):** 5 steps — Basic Info., Company Setup (with "Add New Company" modal), Branding & Domains, Key Contacts, Confirmation.
--------------------------------------------------------------------------------
5. KEY FEATURES IMPLEMENTED
--------------------------------------------------------------------------------
- **UPDATED: Dashboard Page (`/dashboard`):** SuperAdminLayout; breadcrumb "Dashboard". **SuperAdminPersonaDisplay** at top of main content: frame background rgba(48, 95, 161, 1), text "Super Admin Persona - Light Theme" (or dynamic persona/theme from Redux), Inter 500 16px rgba(255, 255, 255, 1); role="region", aria-label="Super Admin Persona Details". Page title "Dashboard Overview" (Inter, 600, 16px, rgba(47, 65, 74, 1)), description "Monitor and manage your entire platform" (Inter, 400, 14px, rgba(56, 89, 102, 1)). "Export Report" button (background rgba(99, 146, 205, 1), text rgba(255, 255, 255, 1), Inter 600 14px, Icon / share (white)) triggers an export action. Main content area displays an "empty state" when no data is available: "No metrics available" (Inter, 600, 20px, rgba(47, 65, 74, 1)) and "Metrics will appear here once data is generated." (Inter, 500, 14px, rgba(73, 130, 145, 1)). The "Dashboard" sidebar item is active when on this page. For mobile viewports (below md breakpoint), SuperAdminLayout displays MobileDashboardHeader (Logo Wrapper: background rgba(255, 255, 255, 1), BSPBlueprintLogo, Icon / panel-left [Toggle navigation menu], Icon / ellipsis [More options]; icons color rgba(73, 130, 145, 1)); sidebar is rendered in a Drawer opened via panel-left; Escape and backdrop close the drawer.
- **NEW: Super Admin Persona Display (`SuperAdminPersonaDisplay`):** Presentational component displaying the active user's persona and theme. **Placement:** Integrated into the Dashboard page. **Visuals:** Frame background rgba(48, 95, 161, 1) (PRIMARY_ACCENT_BLUE); text content "Super Admin Persona - Light Theme" (or dynamic from Redux); text color rgba(255, 255, 255, 1); font Inter 500 16px (implementation uses 16px for layout; spec mentioned 500px — design clarification recommended). **Redux:** authSlice selectCurrentPersonaType, selectActiveThemePreference; currentPersonaType and activeThemePreference persisted; default set on loginSuccess. **Accessibility:** Container role="region", aria-label="Super Admin Persona Details".
- **NEW: Forgot Password Page (`/forgot-password`):** Standalone full-screen page. **The design (confirmed by structural data for mobile viewports) ensures optimal user experience across all devices.** Top-left: BSPBlueprintLogo (l.svg, black wordmark). Center: ForgotPasswordDialog (Paper/CardLayout, background rgba(255, 255, 255, 1), border-radius 8px). Dialog: title "Forgot Password?" (Inter, 600, 20px, rgba(47, 65, 74, 1)); description "No worries — we'll send you reset instructions." (Inter, 400, 14px, rgba(56, 89, 102, 1)); FormGroupLabel "Email" (Inter, 500, 14px, rgba(47, 65, 74, 1)); TextInput placeholder "Enter email" (Inter, 400, 14px, rgba(73, 130, 145, 1)), background rgba(255, 255, 255, 1); "Send Instructions" button (primary: background rgba(48, 95, 161, 1), text rgba(255, 255, 255, 1), Inter 600 14px; disabled until valid email; loading "Sending instructions..."); "Back to Login" button (secondary: background rgba(255, 255, 255, 1), text rgba(47, 65, 74, 1), Inter 600 14px; navigates to /login). Bottom: AuthPageFooter ("Version 1.0", "Privacy Policy | Terms of Use"). Client-side email validation is performed on blur and submit; an inline error message ("Your email address is invalid.") will be displayed below the TextInput for invalid email input, and the "Send Instructions" button remains disabled until a valid email is provided. On success, a GlobalToast "Password reset instructions sent to [masked email]" is shown, and the user is redirected to `/login`; server errors also show a GlobalToast. Redux: forgotPasswordSlice (sendPasswordResetInstructions thunk, status, error); authSlice setToastMessage for toasts.
- **NEW: Reset Password Page (`/reset-password/:token`):** Standalone full-screen page for setting a new password. **The design for mobile viewports has been visually confirmed, ensuring optimal user experience across all devices, including specific adherence to typography and colors in the 'poor', 'average', and 'strong' password strength states.** Top-left: BSPBlueprintLogo (l.svg, black wordmark). Center: SetNewPasswordDialog (Paper, background rgba(255, 255, 255, 1), border-radius 8px). Dialog: title "Set New Password" (Inter, 600, 20px, rgba(47, 65, 74, 1)); description "Must be at least 8 characters, with upper & lowercase, a symbol or a number." (Inter, 400, 14px, rgba(56, 89, 102, 1)); FormGroupLabel "Password" and "Confirm Password" (Inter, 500, 14px, rgba(47, 65, 74, 1)); PasswordInput (placeholder/value rgba(73, 130, 145, 1), **entered value text Inter, 400, 14px**, visibility toggle Eye/EyeOff, icon white on adornment rgba(73, 130, 145, 1)); inline errors for complexity and mismatch; PasswordStrengthIndicator (progress bar track rgba(241, 240, 247, 1); fill/color by strength: Weak/Poor rgba(196, 71, 85, 1), Average rgba(224, 184, 74, 1), Strong rgba(47, 143, 107, 1); text label for 'Weak'/'Poor' state Inter 500 12px rgba(196, 71, 85, 1); text label for 'Average' state Inter 500 12px rgba(203, 145, 39, 1); text label for 'Strong' state Inter 500 12px rgba(47, 143, 107, 1)); "Reset Password" button (**background rgba(99, 146, 205, 1)** (PRIMARY_ACCENT_BLUE) per structural data, text rgba(255, 255, 255, 1), Inter 600 14px; disabled until valid and matching, loading "Resetting Password..."); "Back to Login" (background rgba(255, 255, 255, 1), text rgba(47, 65, 74, 1), Inter 600 14px, navigates to /login). Bottom: AuthPageFooter. Client-side validation for password complexity (8+ chars, upper, lower, symbol or number) and matching; success redirects to /login with GlobalToast "Password reset successfully."; server errors show GlobalToast. Redux: resetPasswordSlice (resetPasswordRequest thunk, password, confirmPassword, passwordStrength, validationErrors, status, error).
- **UPDATED: Login Page (`/login`):** Standalone full-screen page with background rgba(248, 247, 251, 1). The "Mobile Login - Details Filled" state has been visually confirmed, ensuring pixel-perfect adherence to structural data for mobile viewports. **Mobile Login - Details Filled - Error state:** Confirmed; email inline error and mobile layout per structural data. Top-left: BSPBlueprintLogo (l.svg, black wordmark). Center: LoginCard (Paper, background rgba(255, 255, 255, 1), border-radius 8px). LoginCard content: Title "Welcome back!" (Inter, 600, 20px, rgba(47, 65, 74, 1)); Description "Enter your email and password to sign in." (Inter, 400, 14px, rgba(56, 89, 102, 1)). Form fields: FormGroupLabel "Email" and "Password" (Inter, 500, 14px, rgba(47, 65, 74, 1)); TextInput for Email (placeholder rgba(73, 130, 145, 1), value text rgba(47, 65, 74, 1), Inter, 400, 14px; error state border and focus ring rgba(161, 47, 63, 1); inline error message "Your email address is invalid." (Inter, 400, 14px, rgba(161, 47, 63, 1)) below input, id="login-email-error"; aria-invalid, aria-describedby="login-email-error"); PasswordInput (error, helperText, value text rgba(47, 65, 74, 1), placeholder rgba(73, 130, 145, 1); visibility toggle lucide-react Eye/EyeOff; icon glyph rgba(255, 255, 255, 1) on adornment background rgba(73, 130, 145, 1); inline error e.g. "Please enter your password."; aria-invalid, aria-describedby="login-password-error"). RememberMeSwitchGroup ("Remember me" label; Switch ON state: track rgba(48, 95, 161, 1), thumb rgba(255, 255, 255, 1); Switch OFF state: track rgba(221, 217, 235, 1)). "Forgot Password?" LinkButton (Inter, 500, 14px, rgba(58, 111, 216, 1)) navigates to /forgot-password. "Login" button (primary: background rgba(48, 95, 161, 1), text rgba(255, 255, 255, 1), Inter, 600, 14px; disabled until valid email (no inline error) and password; loading "Logging In..."). "Need help?" text (Inter, 400, 14px, rgba(56, 89, 102, 1)) and "Contact Us" LinkButton (Inter, 600, 14px, rgba(58, 111, 216, 1)). Bottom: AuthPageFooter ("Version 1.0", "Privacy Policy | Terms of Use") text color rgba(73, 130, 145, 1); separator (|) between links uses same color. Client-side email/password validation with inline error display (email on blur or submit, password on blur); success redirects to /dashboard; server errors show GlobalToast. Redux: authSlice (loginRequest thunk, isLoggingIn, loginError, rememberMe, emailValidationError, passwordValidationError; rememberMe persisted). LinkButton supports fontWeight prop (Forgot Password 500, Contact Us 600).
- **Corporation Profile page (/corporations/:id/profile):** SuperAdminLayout; breadcrumb "Corporation Directory > [Corporation Name]"; Back button (to /corporations); corporation name (e.g. Acme Corporation) with **Corporation Code Badge** (e.g. CORP-001, background rgba(48, 95, 161, 1)) and **Status Badge** (e.g. Active, background rgba(47, 143, 107, 1)); action buttons (Back, Edit, Suspend, Close Corporation). **Edit button navigates to /corporations/:id/edit.** Clicking "Close Corporation" button opens the CloseCorporationConfirmationModal. **NEW: Clicking "Suspend" button opens the SuspendCorporationConfirmationModal.**
- **NEW: Edit Corporation - Basic Details page (/corporations/:id/edit):** SuperAdminLayout; breadcrumb implied from profile; Back button (to /corporations/:id/profile); corporation name with Code and Status badges. ProfileTabs with "Basic Info." (default active), "Companies", "Branding", "Key Contacts", "Configuration". Basic Info. tab: section title "Basic Info.", description "View and edit corporation basic details, address, and executive sponsor."; CorporationBasicInfoEditForm with CorporationBasicsCard (editable TextInput/CustomSelect: Corporation Legal Name, DBA Name, Region, Industry, Corporate Phone No., Website URL), CorporationAddressCard (Address Line, State/Province, City, Country, ZIP/Postal Code, Time Zone), ExecutiveSponsorCard (collapsible; Name, Role, Email, Work Phone No., Cell Phone No.); ActionButtonsGroup Cancel (navigates to profile) and "Save & Update" (submits via updateCorporationBasicInfoRequest thunk; toast "Basic Info. saved"). **Branding tab: section title "Branding" (Inter, 600, 20px, rgba(47, 65, 74, 1)), description "Configure corporation identity..." (Inter, 400, 14px, rgba(73, 130, 145, 1)); CorporationBrandingEditForm with FormGroupLabel "Upload Logo", FileUploadInput (instructions "Click to upload or drag-&-drop file", supported formats "SVG, PNG & JPG up to 10MB", Icon / upload), FormGroupLabel "Logo Preview", CorporationLogoDisplay (displays current or uploaded logo or placeholder); ActionButtonsGroup Cancel (navigates to profile) and "Save & Update" (submits via updateCorporationBrandingRequest thunk; loading "Saving Branding..."; toast "Branding saved"). Client-side file validation (SVG/PNG/JPG, max 10MB).** **Companies tab:** Section title "Company Setup" (Inter, 600, 20px, rgba(47, 65, 74, 1)), description "Each corporation must have at least one Company before continuing." (Inter, 400, 14px, rgba(73, 130, 145, 1)); CorporationCompanyAssignmentInfoCard (Company Assignment & Modification); label "Companies (X)" (Inter, 400, 14px, rgba(56, 89, 102, 1)); list of CompanyCard components (name, type, location, Edit/Delete buttons); AddCompanyToListButton "Add New Company"; AddCorporationCompanyModal (add/edit mode), DeleteCompanyConfirmationModal; ActionButtonsGroup Cancel and "Save & Update" (submits via updateCorporationCompaniesRequest; toast "Companies saved"; disabled when company list empty). **Key Contacts tab (functional):** Section title "Key Contacts" (Inter, 600, 20px, rgba(47, 65, 74, 1)), description "Define governance, financial, and compliance ownership at the corporate level." (Inter, 400, 14px, rgba(73, 130, 145, 1)). CorporationKeyContactsEditForm with PrimaryCorporateAdminEditCard (collapsible FormCard: title "Primary Corporate Admin", IconButton chevron-down/chevron-right, FormGroupLabel + TextInput for Name, Role, Email, Work Phone No., Cell Phone No. with required asterisks; value text rgba(47, 65, 74, 1), input background rgba(255, 255, 255, 1)); BillingFinanceContactCard and LegalComplianceContactCard (titles and chevron-right, view/navigation only); ActionButtonsGroup Cancel (navigates to profile) and "Save & Update" (submits via updateCorporationKeyContactsRequest; loading "Saving Key Contacts..."; toast "Key Contacts saved"; disabled until required fields valid and changes made). Client-side validation for required fields and email/phone format; error toast on save failure. **Configuration tab (edit mode):** Section title "Configuration" (Inter, 600, 20px, rgba(47, 65, 74, 1)), description "Edit security posture & related settings" (Inter, 400, 14px, rgba(73, 130, 145, 1)); FormCard "Default Security Posture" (role="region", aria-labelledby) with FormGroupLabel + CustomSelect "Password Policy" (required, options from mockPasswordPolicies), FormGroupLabel + CustomSelect "2FA Requirement" (required, options from mockTFARequirements), FormGroupLabel + TextInput "Session Timeout (In Minutes)" (inputmode="numeric", background rgba(248, 247, 251, 1), value text rgba(73, 130, 145, 1)); ActionButtonsGroup Cancel (aria-label "Cancel corporation security configuration changes") and "Save & Update" (aria-busy when saving; disabled until required fields valid); client-side validation for required fields; success toast "Configuration saved"; error toast on save failure. Form field/label styling per spec: label rgba(47, 65, 74, 1) Inter 500 14px; required asterisk rgba(196, 71, 85, 1); CustomSelect background rgba(255, 255, 255, 1); Session Timeout TextInput background rgba(248, 247, 251, 1).
- **Action Button Styles:** **"Edit" Button:** Background rgba(255, 255, 255, 1), text rgba(47, 65, 74, 1), Inter 600 14px. Icon square-pen rgba(52, 76, 86, 1). **"Suspend" Button:** Background rgba(255, 255, 255, 1), text rgba(196, 71, 85, 1) (error color), Inter 600 14px. The "Suspend" button on the Corporation Profile page triggers SuspendCorporationConfirmationModal. **"Close Corporation" Button:** Background rgba(196, 71, 85, 1) (error color), text rgba(255, 255, 255, 1) (white), Inter 600 14px.
- **Tabs:** ProfileTabs with "Basic Info." (default active), "Key Contacts", "Plan & Seats", "Configuration". Tab group background rgba(241, 240, 247, 1) (#F1F0F7). Active tab background rgba(255, 255, 255, 1); active tab label color rgba(48, 95, 161, 1); inactive tab label color rgba(56, 89, 102, 1); typography Inter 600 14px.
- **Corporation Profile - Basic Info. tab (view mode - CorporationBasicInfoView):** Default active tab on /corporations/:id/profile. Read-only display in three FormCard sections (background rgba(255, 255, 255, 1), border-radius 8px) using ConfigDisplayRow. Card header titles: Inter, 500, 16px, rgba(56, 89, 102, 1). ConfigDisplayRow label: Inter, 400, 14px, rgba(56, 89, 102, 1); value: Inter, 500, 14px, rgba(47, 65, 74, 1); divider rgba(221, 217, 235, 1). (1) **"Corporation Basics"** card: Corporation Legal Name, DBA Name, Corporate Phone No., Region (Data Residency), Industry, Website URL, Address (combined string), Time Zone, Created On (formatted date). (2) **"Executive Sponsor"** card: Name, Role, Email, Work Phone No., Cell Phone No. (3) **"Key Contacts"** card: Primary Corporate Admin, Billing/ Finance Contact, Legal/ Compliance Contact.
- **Configuration tab (view mode - CorporationAuditLogTable):** **UPDATED CONTENT**: This tab now displays an Audit Log table replacing the previously planned comprehensive dashboard, security, and branding settings. 1. **Header & Filters:** Contains a SearchInput (placeholder "Search here...", Inter 400 14px rgba(73, 130, 145, 1), left icon Icon / search rgba(73, 130, 145, 1)), two CustomSelect components for filtering (e.g., "All action types", "Last 30 days", selected value Inter 400 14px rgba(47, 65, 74, 1)), with aria-labels "Filter by action types" and "Filter by time range". 2. **Audit Log Table:** A Table component displaying log entries. **Table Header (TableHeader):** Background rgba(248, 247, 251, 1). Columns: "Timestamp", "Actions", "Status", "Actor". Each header displays a Table heading (Inter 600 14px rgba(47, 65, 74, 1)) and Icon / arrow-up-down (rgba(217, 217, 217, 1)) for sorting. **Table Cells (TableCell):** Standard text rgba(47, 65, 74, 1), Inter 400 14px. For "Actor" column, a secondary line displays email: rgba(73, 130, 145, 1), Inter 400 12px. Each cell has a bottom divider rgba(221, 217, 235, 1). **Status Badges:** For the "Status" column, Badge components with: "User Management" — background rgba(241, 240, 247, 1), text rgba(125, 100, 157, 1); "Plan & Seats" — background rgba(251, 248, 235, 1), text rgba(203, 145, 39, 1); "Configuration" — background rgba(241, 246, 253, 1), text rgba(58, 111, 216, 1); all Inter 600 12px. 3. **Table Pagination (TablePagination):** Displays "Showing X entries" (Inter 400 14px rgba(56, 89, 102, 1)), "Previous", numbered page buttons, "Next" (button styles: background rgba(255, 255, 255, 1), text rgba(47, 65, 74, 1), Inter 600 14px). role="navigation", aria-label="Audit log pagination".
- **Corporation Directory Page (`/corporations`):** SuperAdminLayout; breadcrumb "Corporation Directory". Page title "Corporations" (Inter, 600, 20px, rgba(47, 65, 74, 1)), description "View and manage all corporations across the platform" (Inter, 400, 14px, rgba(56, 89, 102, 1)). "Add New Corporation" button (background rgba(48, 95, 161, 1), text rgba(255, 255, 255, 1), Inter 600 14px, Icon / plus) navigates to /corporations/add; aria-label "Add a new corporation". Main content Card (background rgba(255, 255, 255, 1)). SearchInput (placeholder "Search here...", aria-label "Search corporation directory", Icon / search rgba(73, 130, 145, 1)). Two CustomSelect filters: status ("All status", "Filter by corporation status") and time range ("Filter by creation time range"). CorporationsDirectoryTable: columns Corp. ID, Corporation Name (primary + region secondary), Status (Badge: Active/Incomplete/Suspended/Closed per spec colors), Executive Sponsor (name + email), Companies, Created On, Actions (ViewCorporationDetailsButton with Icon / eye, CorporationActionsMenu with Icon / ellipsis-vertical). TableHeader background rgba(248, 247, 251, 1), sortable with Icon / arrow-up-down. TablePagination "Showing X corporations", Previous/Next with Icon chevron-left/chevron-right. Redux corporationsSlice: corporationsList, listLoading, listError, listFilters, listPagination, listSort; fetchCorporationsList thunk; setListSearchText, setListStatusFilter, setListTimeRangeFilter, setListPage, setListSortColumn, setListSortDirection. Mock data: mockCorporationsList.js (getMockCorporationsList, STATUS_FILTER_OPTIONS, TIME_RANGE_OPTIONS).
- **NEW: Company Directory Page (`/companies`):** SuperAdminLayout; breadcrumb "Company Directory". Page title "Companies" (Inter, 600, 20px, rgba(47, 65, 74, 1)), description "View and manage all companies across the platform" (Inter, 400, 14px, rgba(56, 89, 102, 1)). "Add New Company" button (background rgba(48, 95, 161, 1), text rgba(255, 255, 255, 1), Inter 600 14px, Icon / plus) navigates to /companies/add; aria-label "Add a new company". Main content Card (background rgba(255, 255, 255, 1)). SearchInput (placeholder "Search here...", aria-label "Search company directory", Icon / search rgba(73, 130, 145, 1)). CustomSelect filters: Status ("All status"), Plan ("All plans"), Assigned Corporation ("All corporations"), Created On ("All time"), Last Updated On ("All time"). CompanyDirectoryTable: columns Company ID, Company Name (primary + region secondary), Status (Badge: Assigned/Unassigned/Archived/Draft per spec colors), Assigned Corporation (name + corpCode or "NA"), Plan (Badge: Enterprise/Standard/Professional per spec colors), Seat Usage (SeatUsageProgressBar: used/total text + linear progress bar), Created On, Last Updated On, Actions (CompanyActionsCell: View eye, Edit square-pen, Delete trash-2). TableHeader background rgba(248, 247, 251, 1), sortable with Icon / arrow-up-down. TablePagination "Showing X entries", Previous/Next. Redux companyDirectorySlice; DeleteCompanyConfirmationModal (setCompanyToDelete, openDeleteCompanyModal). Mock data: mockCompaniesDirectory.js.
***- NEW: Close Corporation Confirmation Modal (`CloseCorporationConfirmationModal`):***
***- Overlay: `rgba(26, 26, 26, 0.699999988079071)` (dark, semi-transparent).***
***- Modal Container: `rgba(255, 255, 255, 1)` background, `8px` border-radius.***
***- Header: Title "Close Corporation" (`Inter, 600, 20px, rgba(47, 65, 74, 1)`), Description "You are about to permanently close Acme Corporation. It cannot be undone!" (`Inter, 400, 14px, rgba(56, 89, 102, 1)`). Dismissal `IconButton` with `Icon / x` (icon color `rgba(52, 76, 86, 1)`, button background `rgba(248, 247, 251, 1)`).***
***- Alerts (`InfoAlertCard` variants):***
***- Danger Alert: Background `rgba(253, 243, 243, 1)`, `Icon / ban` (icon color `rgba(196, 71, 85, 1)`), Title "Close action is permanent delete & will have the f..." (`Inter, 600, 14px, rgba(161, 47, 63, 1)`), Description "Immediate termination of all user access All activ..." (`Inter, 400, 14px, rgba(47, 65, 74, 1)`).***
***- Info Alert: Background `rgba(241, 246, 253, 1)`, `Icon / info` (icon color `rgba(58, 111, 216, 1)`), Title "Data Security" (`Inter, 600, 14px, rgba(47, 65, 74, 1)`), Description "Corporation data will be retained for 90 days befo..." (`Inter, 400, 14px, rgba(73, 130, 145, 1)`).***
***- Form Fields:***
***- "Pre-defined Reasons": `FormGroupLabel` (`Inter, 500, 14px, rgba(47, 65, 74, 1)`), required `*` (`rgba(196, 71, 85, 1)`). `CustomSelect` (background `rgba(255, 255, 255, 1)`, placeholder "Select a reason" `Inter, 400, 14px, rgba(73, 130, 145, 1)`).***
***- "Additional Notes": `FormGroupLabel` (`Inter, 500, 14px, rgba(47, 65, 74, 1)`). `Textarea` (background `rgba(255, 255, 255, 1)`, placeholder "Type your notes here..." `Inter, 400, 14px, rgba(73, 130, 145, 1)`), resizable.***
- Action Buttons (FooterButtonGroup): "Cancel" (white background, primary text), "Close Corporation" (error background, white text). "Close Corporation" button is disabled until a reason is selected; displays loading state "Closing Corporation..." during submission.
- **NEW: Suspend Corporation Confirmation Modal (SuspendCorporationConfirmationModal):**
- **Overlay:** rgba(26, 26, 26, 0.699999988079071) (dark, semi-transparent).
- **Modal Container:** rgba(255, 255, 255, 1) background, 8px border-radius.
- **Header:** Title "Suspend Corporation" (Inter, 600, 20px, rgba(47, 65, 74, 1)), Description "You are about to suspend Acme Corporation." (Inter, 400, 14px, rgba(56, 89, 102, 1)). Dismissal IconButton with Icon / x (icon color rgba(52, 76, 86, 1), button background rgba(248, 247, 251, 1)).
- **Alerts (InfoAlertCard variants):**
- **Danger Alert:** Background rgba(253, 243, 243, 1), Icon / triangle-alert (icon color rgba(196, 71, 85, 1)), Title "Suspend action will have the following impact:" (Inter, 600, 14px, rgba(161, 47, 63, 1)), Description "All users will be immediately logged out. Login access will be revoked. Corporation data remains accessible to Super Admins only. Corporation status will change to 'Suspended'." (Inter, 400, 14px, rgba(47, 65, 74, 1)).
- **Form Fields:**
- **"Pre-defined Reasons":** FormGroupLabel (Inter, 500, 14px, rgba(47, 65, 74, 1)), required * (rgba(196, 71, 85, 1)). CustomSelect (background rgba(255, 255, 255, 1), placeholder "Select a reason" Inter, 400, 14px, rgba(73, 130, 145, 1)).
- **"Additional Notes":** FormGroupLabel (Inter, 500, 14px, rgba(47, 65, 74, 1)). Textarea (background rgba(255, 255, 255, 1), placeholder "Type your notes here..." Inter, 400, 14px, rgba(73, 130, 145, 1)), resizable.
- **Action Buttons (FooterButtonGroup):** "Cancel" (white background, primary text), "Suspend Corporation" (error background, white text). "Suspend Corporation" button is disabled until a reason is selected; displays loading state "Suspending Corporation..." during submission.
- **NEW: Delete Company Confirmation Modal (`DeleteCompanyConfirmationModal`):**
- **Overlay**: `rgba(26, 26, 26, 0.699999988079071)` (dark, semi-transparent).
- **Modal Container**: `rgba(255, 255, 255, 1)` background, `8px` border-radius.
- **Header**: **Title** "Are you sure you want to delete this company?" (`Inter, 600, 20px, rgba(47, 65, 74, 1)`).
- **Action Buttons (FooterButtonGroup)**: "Cancel" (white background, primary text), "Delete Company" (error background, white text). "Delete Company" button displays loading state "Deleting Company..." during submission and is disabled during submission.
- **NEW/UPDATED: Edit Company Modal (implemented by `AddCorporationCompanyModal` in edit mode):** Used from Company View Details (/companies/:id) and from Edit Corporation - Companies tab. Overlay rgba(26, 26, 26, 0.7). Modal: title "Edit Company" (Inter 600 20px), description "Modify company details"; Close button (aria-label "Close edit company form"); sections "Company Info." and "Access Setup"; Region (Data Residency), Industry, Security Posture read-only (background rgba(248, 247, 251, 1), aria-readonly="true"); other fields editable; Cancel and "Save & Update" (aria-label "Save and update company details"); loading state "Saving Company..." during submit; success toast "Company updated" when invoked from View Details.
- **Company Profile - View Details page** (/companies/:id): SuperAdminLayout; breadcrumb "Company Directory > [Company Name]"; Back button (to /corporations); company name (e.g. New York HQ) with CompanyBadges (e.g. Assigned, Enterprise); **EditCompanyButton** (square-pen icon, primary blue rgba(48, 95, 161, 1), **aria-label "Edit company basic information", opens AddCorporationCompanyModal in edit mode**); DeleteCompanyButton (trash icon, error color) **which triggers the `DeleteCompanyConfirmationModal`**; ProfileTabs (Basic Info. default, Key Contacts, Plan & Seats, Configuration) with tab group background rgba(241, 240, 247, 1) (#F1F0F7). Active tab background rgba(255, 255, 255, 1); active tab label color rgba(48, 95, 161, 1); inactive tab label color rgba(56, 89, 102, 1); typography Inter 600 14px. **Basic Info. tab (view mode — CompanyBasicInfoView):** section title "Basic Info." (20px/600, rgba(47, 65, 74, 1)), description "View and manage core company details." (14px/400, rgba(73, 130, 145, 1)); **FormCard "Company Basics"** (first) with ConfigDisplayRow for Company Legal Name, DBA/ Trade Name, Website URL, Company Type, Office Type, Region (Data Residency), Industry, Primary Language, Company Phone No., **Company Address** (single combined string); **FormCard "Parent Corporation Info."** (second) with ConfigDisplayRow for Parent Corporation Legal Name, Ownership Type. ConfigDisplayRow label Inter 400 14px rgba(56, 89, 102, 1), value Inter 500 14px rgba(47, 65, 74, 1); divider rgba(221, 217, 235, 1). **Configuration tab (view mode — CompanyConfigView):** section title "Configuration" (20px/600, rgba(47, 65, 74, 1)), description "General settings for security, branding, reports & license." (14px/400, rgba(73, 130, 145, 1)); FormCard "Security Settings" with ConfigDisplayRow for Authentication Method, Password Policy, Session Timeout (In minutes), 2FA Requirement (Inherited); FormCard "Branding & Experience" with ViewLogoPreview (company logo); FormCard "Reporting Preferences" with ConfigDisplayRow for Default Dashboard, Data Export Permission, User Data Anonymization. No Save & Update / Cancel on view page. **Key Contacts tab (view mode — CompanyKeyContactsView):** section title "Key Contacts", description "Setup the operating unit for the company."; FormCard "Roster Details" (cardTitle prop, default "Roster Details") with ConfigDisplayRow for Primary Company Admin, Secondary Company Admin, Executive Sponsor, HR/ People Ops Contact, IT/ Security Contact (resolved from mockRosters). ConfigDisplayRow label typography Inter 400 14px rgba(56, 89, 102, 1), value typography Inter 500 14px rgba(47, 65, 74, 1); divider rgba(221, 217, 235, 1). FormCard supports optional titleId and ariaLabel for accessibility (e.g. aria-labelledby for "Roster Details"). **Plan & Seats tab (view mode — CompanyPlanAndSeatsView):** section title "Plan & Seats", description "Manage your plan allocations and seats assignments."; **This tab displays three FormCard sections (background rgba(255, 255, 255, 1), border radius 8px) using ConfigDisplayRow components for read-only values. Card headers (Inter, 500, 16, rgba(56, 89, 102, 1)) include "Plan Allocation & Seats Management", "Trial Configuration", and "ACH (Bank Transfer) Details".**
1. **"Plan Allocation & Seats Management"**: Displays ConfigDisplayRow for "Plan" (e.g., "50-100 employees"), "Total Seats" (e.g., "100"), "Billing Cycle" (e.g., "Monthly"), "Payment Type" (e.g., "ACH (Bank Transfer)"), "Billing Currency" (e.g., "USD ($)").
2. **"Trial Configuration"**: **This card is conditionally rendered when the planType is 'trial'.** Displays ConfigDisplayRow for "Trial Status" (**value is a Badge component** with text "Active", background rgba(241, 246, 253, 1), text color rgba(58, 111, 216, 1), Inter 600 12px), "Trial Length" (**value is a formatted string combining length and auto-expire status**, e.g., "14 days (Auto-expire)"), "Trial End Date" (e.g., "01-20-2026"), and "Trial Seats" (e.g., "25 seats").
3. **"ACH (Bank Transfer) Details"**: **This card is conditionally rendered when paymentType is 'ach'.** Displays ConfigDisplayRow for "Account Holder Name", "Bank Name", "Account No.", "Account Type", "Payment Direction", and "Routing No.".
ConfigDisplayRow label typography Inter 400 14px rgba(56, 89, 102, 1), value typography Inter 500 14px rgba(47, 65, 74, 1); divider rgba(221, 217, 235, 1). No Save & Update / Cancel on view page. **Clicking "Edit Company" opens AddCorporationCompanyModal in edit mode for basic and access info; full edit page at /companies/:id/edit remains available.**
- **Company Profile - Edit Details page** (/companies/:id/edit): SuperAdminLayout; breadcrumb "Company Directory > [Company Name] > Edit"; Back button (to /companies/:id view page); company name with CompanyBadges; DeleteCompanyButton **which triggers the `DeleteCompanyConfirmationModal`**; ProfileTabs. **Basic Info. tab (CompanyBasicInfoForm):** section title "Basic Info.", description "View and edit core company details."; FormCard "Parent Corporation" (ParentCorporationCard) — Parent Corporation Legal Name read-only TextInput, CustomSelect Ownership Type (required); FormCard "Company Info." (CompanyBasicInfoCard) — TextInput Company Legal Name, DBA/ Trade Name, Website URL, Company Phone No.; CustomSelect Company Type, Office Type, Region (Data Residency), Industry, Primary Language (all required per spec); FormCard "Company Address" (CompanyAddressCard) — TextInput Address Line, ZIP/ Postal Code; CustomSelect State/ Province, City, Country (required); ActionButtonsGroup Cancel and "Save & Update". Save & Update toast: "Basic Info. saved". **Configuration tab (CompanyConfigForm):** section title "Configuration", description "General settings for security, branding, reports & license."; FormCard "Security Settings" (CustomSelect Authentication Method, Password Policy, TextInput Session Timeout, CustomSelect 2FA Requirement); FormCard "Branding & Experience" (InfoAlertCard Branding Note, FileUploadInput Upload Logo, FormGroupLabel "Logo Preview", CompanyLogoPreview); FormCard "Reporting Preferences" (RichCheckboxGroup Default Dashboard, TrialPeriodSwitchGroup Data Export Permission and User Data Anonymization — secondary text color rgba(56, 89, 102, 1)); ActionButtonsGroup Cancel and "Save & Update". **Key Contacts tab (CompanyKeyContactsForm):** section title "Key Contacts", description "Setup the operating unit for the company."; InfoAlertCard "Roster Note"; FormCard "Rosters" (FileUploadInput "Upload Roster", five CustomSelect fields); ActionButtonsGroup Cancel and "Save & Update". **Plan & Seats tab (CompanyPlanAndSeatsForm):** section title "Plan & Seats", description "Manage your plan allocations and seats assignments."; FormCard "Plan Allocation & Seats Management" (RadioGroupField Trial/Pilot, Trial Configuration, Plan, Total Seats, Billing Cycle, Payment Type, Billing Currency); FormCard "ACH (Bank Transfer) Details" when Payment Type is ACH; ActionButtonsGroup Cancel and "Save & Update". Redux companyConfig slice (currentCompany with **basic info fields**: parentCorporationLegalName, parentName, ownershipType, companyLegalName, dbaTradeName, websiteUrl, companyType, officeType, regionDataResidency, region, industry, companyPhoneNo, primaryLanguage, companyAddress, addressLine, stateProvince, city, country, zipPostalCode; configuration, key contact fields, planType, trialLength, trialEndDate, trialSeats, autoExpireTrial, planId, totalSeats, billingCycleId, paymentType, billingCurrencyId, achDetails; loading, isSaving, **activeTab default 'basic-info'**; updateCompanyConfigField, setCompanyConfigLogoFile, updateCompanyKeyContactField, setCompanyRosterFile, setCompanyConfigActiveTab, updateCompanyPlanAndSeatsField, updateCompanyAchDetailsField, resetCompanyPlanAndSeatsForm, **updateCompanyBasicInfoField**, clearCurrentCompany; selectCurrentCompany, selectCompanyConfig, selectCompanyKeyContactsFormData, selectCompanyRosterFile, selectCompanyPlanAndSeatsFormData, selectCompanyAchDetailsFormData, selectCompanyPlanAndSeatsValidationStatus, selectIsCompanyPlanAndSeatsFormValid, **selectCompanyBasicInfoFormData, selectCompanyBasicInfoValidationStatus, selectIsCompanyBasicInfoFormValid**). Save & Update toasts: **"Basic Info. saved"**, "Configuration saved", "Key Contacts saved", "Plan & Seats saved". **Delete opens `DeleteCompanyConfirmationModal` then navigates to /corporations on success.**
- Sidebar: logo, "powered by BSPBlueprint" **(now rgba(100, 157, 172, 1) Inter 500 12px)**, toggle, nav items. Expanded to
include Sidebar Group Labels (Main, Administration, Users & Access, Finance,
Assessments, BSPU, System, Insights, Configuration) and an extensive set of
menu items:
- Main: Dashboard (active when on `/dashboard`).
- Administration: Corporation Directory, Company Directory.
- Users & Access: User Directory, Company Admins, Team Leads, Roles & Permissions, Coaches.
- Finance: Billing Overview, Global Billing Settings, Promo Code Management.
- Assessments: Question Bank.
- BSPU: Learning Library.
- System: System Health, Security Baselines, Audit Logs, Maintenance.
- Insights: Reports.
- Notifications (with badge count).
- Configuration: Settings.
- Header: breadcrumbs (including "Company Directory > Add New Company" for
/companies/add; "Corporation Directory > Add New Corporation" for /corporations/add; **"Company Directory > [Company Name]" for /companies/:id View Details page**; **"Company Directory > [Company Name] > Edit" for /companies/:id/edit Edit Details page**; **"Corporation Directory > [Corporation Name]" for /corporations/:id/profile View Details page**; **NEW: "Dashboard" for /dashboard**), theme toggle (moon icon, color rgba(47, 65, 74, 1)), notifications (bell icon, color rgba(47, 65, 74, 1)), **vertical separator (separator.svg)** between notifications icon and user avatar, user avatar. **UPDATED: On mobile viewports (below md breakpoint), SuperAdminLayout shows MobileDashboardHeader (Logo Wrapper) with BSPBlueprintLogo, Icon / panel-left (Toggle navigation menu), and Icon / ellipsis (More options) instead of the full desktop header/sidebar; sidebar opens as a Drawer.**
- Redux: corporations slice **(Modified - Now includes state for currentCorporation, selectedTab (default 'basic-info'); selectors selectCurrentCorporation, selectCorporationSecurityConfig, selectCorporationBrandingConfig, selectCurrentCorporationLoading. Now includes closeCorporationStatus, closeCorporationError, and closeCorporationRequest thunk. UPDATED: Configuration tab now uses Audit Log state: currentCorporationAuditLog (data, totalEntries), auditLogLoading, auditLogError, auditLogFilters (searchText, actionType, timeRange), auditLogPagination (currentPage, itemsPerPage), auditLogSort (column, direction); thunk fetchCorporationAuditLogData; actions setAuditLogSearchText, setAuditLogFilter, setAuditLogPage, setAuditLogSort; selectors selectCorporationAuditLogData, selectAuditLogTotalEntries, selectAuditLogLoading, selectAuditLogError, selectAuditLogFilters, selectAuditLogPagination, selectAuditLogSort. Dashboard state (currentCorporationDashboard, fetchCorporationDashboardData, etc.) retained but deprecated for Configuration tab. UPDATED: currentCorporation holds corporation-level basic info fields (legalName, dbaName, corporatePhoneNo, regionDataResidency, industry, websiteUrl, address, timeZone, createdOn), executiveSponsor, keyContacts, corporationCode, status for CorporationBasicInfoView. **NEW: Now includes suspendCorporationRequest thunk, suspendCorporationStatus, suspendCorporationError, selectSuspendCorporationStatus, selectSuspendCorporationError.**)**; ui slice (Modified - Now includes isCloseCorporationModalOpen, openCloseCorporationModal, closeCloseCorporationModal. **NEW: Now includes isSuspendCorporationModalOpen, openSuspendCorporationModal, closeSuspendCorporationModal, selectIsSuspendCorporationModalOpen.** **NEW: Now includes isDeleteCompanyModalOpen, openDeleteCompanyModal, closeDeleteCompanyModal, selectIsDeleteCompanyModalOpen.** **NEW: Now includes isEditCompanyModalOpen, openEditCompanyModal, closeEditCompanyModal, selectIsEditCompanyModalOpen.** **NEW: Now includes `activeSidebarItem` state, `setActiveSidebarItem` action, `selectActiveSidebarItem` selector.**); **NEW: dashboard slice** (dashboardData, dashboardLoading, dashboardError; fetchDashboardData thunk; selectDashboardData, selectDashboardLoading, selectDashboardError, selectIsDashboardEmpty.); auth slice; companyCreation slice
(current step, formData per step, rosters, file upload state, step errors,
now including conditional payment details for Step 3, with new achDetails fields;
**submissionStatus, submissionError, submitCompanyCreation thunk, selectSubmissionStatus, selectSubmissionError for Step 5 final submission**); **companyConfig slice** (currentCompany with configuration and key contact fields primaryCompanyAdminId, secondaryCompanyAdminId, executiveSponsorId, hrPeopleOpsContactId, itSecurityContactId, rosterFile, **planType, trialLength, trialEndDate, trialSeats, autoExpireTrial, planId, totalSeats, billingCycleId, paymentType, billingCurrencyId, achDetails**; loading, isSaving, activeTab; updateCompanyConfigField, setCompanyConfigLogoFile, updateCompanyKeyContactField, setCompanyRosterFile, setCompanyConfigActiveTab, **updateCompanyPlanAndSeatsField, updateCompanyAchDetailsField, resetCompanyPlanAndSeatsForm**, clearCurrentCompany; selectCurrentCompany, selectCompanyConfig, selectCompanyConfigLoading, selectCompanyConfigSaving, selectCompanyConfigActiveTab, selectCompanyKeyContactsFormData, selectCompanyRosterFile, **selectCompanyPlanAndSeatsFormData, selectCompanyAchDetailsFormData, selectCompanyPlanAndSeatsValidationStatus, selectIsCompanyPlanAndSeatsFormValid**. **NEW: Edit Company modal when invoked from View Details: companyBeingEditedId, companyEditFormData, companyEditSaveStatus, companyEditSaveError; setCompanyBeingEditedId, setCompanyEditFormData, resetCompanyEditFormState; fetchCompanyForEditModal, updateCompanyBasicAndAccessInfoRequest thunks; selectCompanyEditFormData, selectCompanyEditFormValidation, selectIsCompanyEditFormValid, selectCompanyEditSaveStatus.**)
- **NEW: corporationCreation slice** (current step, completedSteps, **flowType: 'quick' | 'advance'**, formData per step including step2.companies (Company[] with id, name, type, location), step2.isStep2Valid, step3.logoFile, step4 primary corporate admin fields, **quickSetupStep2** (companyLegalName, companyType, officeType, region, industry, stateProvince, city, zipPostalCode, adminName, companyAdminEmail, numberOfEmployees, securityPosture), step errors, step4Validation, submissionStatus, setCorporationFlowType, setCorporationStep3LogoFile, updateCorporationStep2Field, updateCorporationStep4Field, **updateQuickSetupStep2Field**, **validateQuickSetupStep2**, setCorporationStep4ValidationStatus, validateCorporationStep4, selectCorporationFlowType, selectStepsConfig (QUICK_SETUP_STEPS or CORPORATION_STEPS), selectCorporationStep4FormData, selectCorporationStep4ValidationStatus, selectCorporationStep4IsValidDerived, selectCorporationStep2FormData, selectCorporationStep2Companies, selectCorporationStep2ValidationStatus, **selectQuickSetupStep2FormData**, **selectQuickSetupStep2Errors**, **selectIsQuickSetupStep2Valid**, selectCorporationConfirmationData (aggregates step1 + quickSetupStep2 for Quick flow), submitCorporationCreation, **submitQuickSetupCorporation**, selectSubmissionLoading, for "Add New Corporation" flow, **NOW INCLUDING**: `isAddCompanyModalOpen`, `newCompanyFormData` (temporary form data for adding a single company, **includes `timeZone`**), `newCompanyFormValidation` (validation status for the modal form, **includes `timeZone`**), and actions: `openAddCompanyModal`, `closeAddCompanyModal`, `updateNewCompanyFormField`, `validateNewCompanyForm`, `addCompanyToCorporationStep2`, `deleteCompanyFromCorporation`, `updateCompanyInCorporation`, `resetCorporationCreationStep2`; selectors: `selectIsAddCompanyModalOpen`, `selectNewCompanyFormData`, `selectNewCompanyFormValidation`, `selectIsNewCompanyFormValid`, `selectCorporationStep2Companies`, `selectCorporationStep2ValidationStatus`).
- Mock data: Acme Corporation with three companies; mockRosters for contact
dropdowns; mockAuthMethods, mockPasswordPolicies, mockTFARequirements, and
mockDashboardOptions for Add New Company - Step 4 dropdowns/checkboxes.
Now includes mock data for Step 3: mockPilotLengths, mockPilotSeats, mockPlans,
mockBillingCycles, mockPaymentTypes (extended to include "Wiring (Bank Details)" and "ACH (Bank Transfer)"),
mockBillingCurrencies, mockCountries. NEW: mockAccountTypes, mockPaymentDirections.
- **NEW: Mock data for Add New Corporation - Step 1:** mockRegions, mockIndustries, mockStates, mockCities (includes San Francisco), mockCorporationCountries, mockTimeZones. Step 2 companies (name, type, location) for Step 5 Confirmation display (e.g. TechVentures Digital, Innovation Labs, Marit Inc.). **NEW: mockCompanyTypes, mockOfficeTypes for the "Add New Company" modal in Advance Setup Step 2 and for Quick Setup Step 2 (Company Details / Access Setup).**
- **NEW: Mock data for Corporation Profile:** mockCorporation.js extended to include securityConfig and logoUrl for corporation-level configuration display. **UPDATED: mockCorporation.js now includes legalName, dbaName, corporatePhoneNo, regionDataResidency, industry, websiteUrl, address (object: street, city, state, zip, country), timeZone, createdOn (ISO date string), executiveSponsor (name, role, email, workPhoneNo, cellPhoneNo), keyContacts (primaryCorporateAdmin, billingFinanceContact, legalComplianceContact), corporationCode, status for Corporation Profile Basic Info. tab.** **NEW: Mock data for Corporation Profile Dashboard:** mockDashboard.js provides sample DashboardMetric objects and ChartPoint arrays. mockTimeAggregationOptions.js provides dropdown options for chart aggregation (e.g., Monthly, Quarterly, Annually).
- **NEW: Mock data for Company Profile - Configuration, Key Contacts, and Plan & Seats page:** mockCompanyConfig.js (getMockCompanyConfig(companyId)) — company name "New York HQ", statusBadges (Assigned, Enterprise), default configuration (authenticationMethod, passwordPolicy, sessionTimeout, tfaRequirement, logoUrl, defaultDashboard, dataExportPermission, userDataAnonymization), key contact IDs (primaryCompanyAdminId, secondaryCompanyAdminId, executiveSponsorId, hrPeopleOpsContactId, itSecurityContactId), rosterFile, **planType ('trial'), trialLength ('14_days'), trialEndDate ('01-20-2026'), trialSeats ('25'), autoExpireTrial (true), planId ('50_100'), totalSeats ('100'), billingCycleId ('monthly'), paymentType ('ach'), billingCurrencyId ('usd'), achDetails (accountHolderName, bankName, accountNumber, accountType, paymentDirection, routingNumber)**. mockRosters.js includes entries for Key Contacts dropdowns (e.g. Ethan Carter, Sophia Martinez, James Anderson, Lara Croft, David Smith).
- NEW: Mock data for Close Corporation Confirmation Modal: mockCorporationCloseReasons.js (e.g., Financial Difficulties, Acquisition / Merger, Strategic Re-alignment).
- **NEW: Mock data for Suspend Corporation Confirmation Modal: mockCorporationSuspendReasons.js (e.g., Compliance Review, Billing Issue, Breach of Terms of Service).**
- Two-Factor Authentication (2FA) Verification Page:
- Standalone, full-screen page with background rgba(248, 247, 251, 1).
- Displays BSPBlueprintLogo in the top-left with l.svg (black wordmark).
- Features a central TwoFactorAuthDialog (background rgba(255, 255, 255, 1), border-radius 8px). **Password Reset - 2FA structural data applied.**
- **UPDATED: Dialog content:** Title **"Password Reset"** (Inter, 600, 20px, rgba(47, 65, 74, 1); id **2fa-dialog-title**). Description "We've sent a 6-digit code to your email ad***@pcsglobal.com" (Inter, 400, 14px, rgba(56, 89, 102, 1)). **Label "Enter code"** (Inter, 500, 14px, rgba(47, 65, 74, 1); id otp-input-label) and **CountdownTimer** on the same line (inlineFormLayout, default true); in error state CountdownTimer is visually hidden. OTP input: auto-focus, paste, navigation; 6 inputs with separator.svg (rgba(221, 217, 235, 1)) after third digit. Placeholder "0" via placeholderValueColor (default rgba(56, 89, 102, 1), Inter 400 14px); when filled or in error state, entered digits use text color rgba(47, 65, 74, 1), Inter 400 14px. **Error Messaging:** **Global Toast (Confirmed):** Upon verification failure, a GlobalToast is displayed with rgba(196, 71, 85, 1) background. Title: "We couldn't verify your credentials." (Inter, 600, 14px, rgba(255, 255, 255, 1)). Body: "Kindly get a new code & try again." (Inter, 400, 14px, rgba(255, 255, 255, 1)). Includes Icon / x for dismissal. Triggered by authSlice (e.g. loginError/toastMessage). **Inline Error (Clarification needed):** Inline error message "The verification code is invalid." (Inter, 400, 14px, rgba(161, 47, 63, 1)) below OTP inputs and OtpInput isError border (rgba(161, 47, 63, 1)) are documented; structural data did not depict them—assume co-existence with global toast unless clarified. id otp-error-message, role alert, aria-live assertive. "Verify Account" button (background rgba(48, 95, 161, 1), text rgba(255, 255, 255, 1), Inter 600 14px; aria-label "Verify Account", aria-busy when verifying). Disabled until 6 digits entered. **"Back to Login" button** (optional, when onBackToLogin provided: background rgba(255, 255, 255, 1), text rgba(47, 65, 74, 1), Inter 600 14px; aria-label "Back to login page"; navigates to /login). "Didn't receive a code?" text (Inter, 400, 14px, rgba(56, 89, 102, 1)) precedes the "Resend Code" link (Inter, 600, 14px, rgba(58, 111, 216, 1)). CountdownTimer controls "Resend Code" link state. AuthPageFooter: version, Privacy Policy | Terms of Use (Inter, 400, 14px, rgba(73, 130, 145, 1)).
- **NEW: Email Template - Verification Code (EmailVerificationCodeTemplate):** Represents the structure of the 2FA verification *email* (sent to users). Frame background rgba(248, 247, 251, 1) (#F8F7FB). Logo Container background rgba(26, 39, 46, 1) (#1A272E) with BSPBlueprint logo **white wordmark** (l-white.svg / BSPBlueprintLogo variant="light"). Content Container background rgba(255, 255, 255, 1). Separator styling uses separator.svg color (#DDD9EB). Typography: title "Your verification code" (20px/600, rgba(47, 65, 74, 1)); body and code styling per spec. Preview route: /2fa/email-preview. Accessibility: role="document", aria-label "Verification code email"; consider email-client rendering (inline styles, table-based layout if generating HTML). **BSPBlueprint wordmark color:** In-app l.svg uses black wordmark; email template uses white wordmark (l-white.svg) for contrast on dark logo container; discrepancy documented for design clarification.
- Add New Company Onboarding Flow:
- Multi-step form guided by a **horizontal Stepper** (common/Stepper, common/Step) at the top of the content area, plus VerticalStepper/FormCard for steps 2–5 content where applicable.
- Page Layout: SuperAdminLayout with expanded SuperAdminSidebar and AppHeader
with dynamic breadcrumbs (e.g., "Company Directory > Add New Company") and vertical separator between notifications and avatar.
- **Step 1 (Basic Info.):** Page header "Add New Company" (20px/600, #2F414A), subtitle "Set up a new company...". Horizontal Stepper with 5 steps (Basic Info., Key Contacts, Plan & Seats, Configuration, Confirmation). Step 1 active: number circle (40x40px) with white background and #3A6FD8 text; inactive steps: rgba(26,39,46,0.05) background, #498291 text. ProgressBar "0% Complete" (track #F1F0F7, fill #305FA1). Three CardLayout sections: **Parent Corporation** (FormInput Parent Corporation Legal Name read-only, FormSelect Ownership Type), **Company Info.** (FormInput Company Legal Name, DBA/Trade Name, Website URL; FormSelect Company Type, Office Type, Region, Industry, Primary Language; FormInput Company Phone Number), **Company Address** (FormInput Address Line, ZIP/Postal Code; FormSelect State/Province, City, Country). FooterButtonGroup: Cancel (white), Previous (hidden on step 1), Next (disabled until required Step 1 fields valid). Redux companyCreation slice: basicInfo (parentCorporationLegalName, ownershipType, companyLegalName, dbaTradeName, websiteURL, companyType, officeType, regionDataResidency, industry, companyPhoneNumber, primaryLanguage, addressLine, stateProvince, city, country, zipPostalCode); selectStep1FormData, selectStep1ValidationStatus.
- Stepper: 5 steps — Basic Info., Key Contacts, Plan & Seats, Configuration,
Confirmation. Each step includes a main title (e.g., "Basic Info.") and a
sub-description (e.g., "Company-based details" for Basic Info.; "Operating unit setup" for Key Contacts; "Subscription setup" for Plan & Seats; "Basic property settings" for Configuration; "Review & submit details" for Confirmation). Active step: blue number and title (#3A6FD8); inactive: grey number and title (#498291). Navigation via Previous
(grey #DDDAEB), Next (blue #305FA1), Cancel (white). Steps are clickable to revisit
completed stages.
- Key Contacts Step (Step 2): Page header "Add New Company" (20px/600), section
"Key Contacts" (20px/600). ProgressTracker with "X% Complete" (12px/500) and
horizontal progress bar (#305FA1 on #F1F0F7). InfoAlertCard "Roster Note"
(light blue #F1F6FD). FileUploadInput for CSV & XLS up to 20MB (drag-and-drop,
click-to-upload). Five CustomSelect fields: Primary Company Admin, Secondary
Company Admin, Executive Sponsor, HR/People Ops Contact, IT/Security Contact
(placeholder "Select roster", required *). Redux companyCreation slice
manages form state, rosters, and file upload.
- **Plan & Seats Step (Step 3):**
- Page header "Add New Company" (20px/600), with description "Set up a new company with its basic details, plan, permissions & general configuration settings." (14px/400).
- Section "Plan & Seats" (20px/600) and description "Manage your plan allocations and seats assignments." (14px/400).
- ProgressTracker displaying "40% Complete".
- FormCard sections, conditionally rendered based on the selected "Payment Type":
1. **"Plan Allocation & Seats Management"**:
- RadioGroupField with options "Trial" and "Pilot" (Trial selected by default).
- Conditional rendering: If "Trial" is selected:
- Nested section titled "Trial Configuration" (14px/500).
- FormGroupLabel "Trial Length" with CustomSelect (placeholder "14 days", required *).
- FormGroupLabel "Trial End Date" with TextInput (pre-filled "01-20-2026").
- FormGroupLabel "Trial Seats" with CustomSelect (placeholder "Select seats").
- TrialPeriodSwitchGroup "Auto-expire Trial" (default: On) with secondary text "Automatically suspend access when trial period end".
- Horizontal Divider (#DDDAEB).
- FormGroupLabel "Plan" with CustomSelect (placeholder "50-100 employees", required *).
- FormGroupLabel "Total Seats" with TextInput (placeholder "100").
- FormGroupLabel "Billing Cycle" with CustomSelect (placeholder "Monthly", required *).
- FormGroupLabel "Payment Type" with CustomSelect (placeholder "ACH (Bank Transfer)", required *). This dropdown now includes "Wiring (Bank Details)" and "ACH (Bank Transfer)" as options. The initial value for this view is "ACH (Bank Transfer)".
- FormGroupLabel "Billing Currency" with CustomSelect (placeholder "USD ($)").
2. **Conditional Payment Details Cards**:
- **"CC (Credit Card) Details"**: (Conditionally rendered when "Payment Type" is "CC (Credit Card)")
- FormGroupLabel "Cardholder Name" with TextInput (placeholder "e.g., Alex Maria Mercer", required *).
- FormGroupLabel "Card Number" with TextInput (placeholder "e.g., 1234 4567 7890 0123", required *, inputmode="numeric").
- FormGroupLabel "CVV" with TextInput (placeholder "e.g., 123", required *, inputmode="numeric").
- FormGroupLabel "Expiration Date (MM / YY)" with TextInput (placeholder "e.g., 12 / 2025", required *, inputmode="numeric").
- FormGroupLabel "Billing ZIP/Postal Code" with TextInput (placeholder "e.g., 10092", required *, inputmode="numeric").
- FormGroupLabel "Country" with CustomSelect (placeholder "Select country").
- **"Wiring (Bank) Details"**: (Conditionally rendered when "Payment Type" is "Wiring (Bank Details)")
- FormGroupLabel "Beneficiary Name" with TextInput (placeholder "e.g., Alex Maria Mercer", required *).
- FormGroupLabel "Bank Name" with TextInput (placeholder "e.g., U.S. BANK N.A.", required *).
- FormGroupLabel "Bank Account No." with TextInput (placeholder "e.g., 987654321", required *, inputmode="numeric").
- FormGroupLabel "Bank Country" with CustomSelect (placeholder "USA", required *, options from mockCountries).
- FormGroupLabel "SWIFT/ BIC Code" with TextInput (placeholder "e.g., USBKUS44XXX", required *).
- **"ACH (Bank Transfer) Details"**: (NEW - Conditionally rendered when "Payment Type" is "ACH (Bank Transfer)")
- FormGroupLabel "Account Holder Name" with TextInput (placeholder "e.g., Jacob Samuel Teach", required *).
- FormGroupLabel "Bank Name" with TextInput (placeholder "e.g., U.S. BANK N.A.", required *).
- FormGroupLabel "Account No." with TextInput (placeholder "e.g., 987654321", required *, inputmode="numeric").
- FormGroupLabel "Account Type" with CustomSelect (placeholder "Saving Account", required *, options from mockAccountTypes).
- FormGroupLabel "Payment Direction" with CustomSelect (placeholder "ACH Credit (CCD/ PPD)", required *, options from mockPaymentDirections).
- FormGroupLabel "Routing No." with TextInput (placeholder "e.g., 021000322", required *, inputmode="numeric").
- Action buttons: "Cancel" (white), "Previous" (grey), "Next" (blue). Next disabled until required fields valid in the currently visible payment details card.
- **Configuration Step (Step 4):**
- Page header "Add New Company" (20px/600), with description "Set up a new company with its basic details, plan, permissions & general configuration settings." (14px/400).
- Section "Configuration" (20px/600) and description "Basic property settings." (14px/400).
- ProgressTracker displaying "60% Complete".
- Three FormCard sections:
1. **"Security Settings"**:
- FormGroupLabel "Authentication Method" with CustomSelect ("Email & Password").
- FormGroupLabel "Password Policy" with CustomSelect ("Standard (8+ Characters & Mixed case)").
- FormGroupLabel "Session Timeout (In minutes)" with TextInput ("60 min").
- FormGroupLabel "2FA Requirement (Inherited)" with CustomSelect ("Off").
2. **"Branding & Experience"**:
- InfoAlertCard "Branding Note" ("Display settings remain consistent with BSP Branding.") with Icon / info.
- FileUploadInput "Upload Logo" (instructions "Click to upload or drag-&-drop file", supported formats "SVG, PNG & JPG up to 10MB") with Icon / upload.
3. **"Reporting Preferences"**:
- FormGroupLabel "Default Dashboard" with RichCheckboxGroup options: "Standard" (checked), "Executive", "Operations", "HR Analytics" (unchecked).
- TrialPeriodSwitchGroup "Data Export Permission" (secondary text "Default: Off") with Switch (off).
- TrialPeriodSwitchGroup "User Data Anonymization" (secondary text "Default: Off") with Switch (off).
- Action buttons: "Cancel" (white), "Previous" (grey), "Next" (blue).
- **Confirmation Step (Step 5 - Add New Company):**
- Purpose: A read-only summary of all data entered in steps 1-4, presented before final submission.
- Page header "Add New Company" (20px/600) with description "Set up a new company with its basic details, plan, permissions & general configuration settings." (14px/400).
- Main content title "Confirmation" (20px/600) and description "Review all the details that has been added." (14px/400).
- ProgressTracker displays "80% Complete".
- Stepper state: Steps 1-4 (Basic Info., Key Contacts, Plan & Seats, Configuration) show as completed (blue checkmark). Step 5 (Confirmation) is active (blue number).
- Step sub-descriptions: Step 1 "Company-based details"; Step 2 "Operating unit setup"; Step 3 "Subscription setup"; Step 4 "Basic property settings"; Step 5 "Review & submit details".
- SummaryCard components with section titles (e.g. "Company Info.", "Key Contacts", "Plan Allocation & Seats Management", "Security Settings", "Branding & Experience", "Reporting Preferences"). Each card contains DataDisplayRow components presenting label-value pairs from collected formData. "Branding & Experience" card displays the company logo (e.g. /images/Logo 1-c24ca4a3.png).
- Action buttons: "Cancel" (white), "Previous" (grey), "Confirm & Add" (blue). "Confirm & Add" triggers final company creation submission; loading state ("Submitting...") and disabled during submission; on success redirect to /corporations; on error GlobalToast displays error message.
- Redux companyCreation slice: submissionStatus ('idle' | 'pending' | 'success' | 'error'), submissionError, submitCompanyCreation async thunk; selectSubmissionStatus, selectSubmissionError.
- **NEW: Add New Corporation Onboarding Flow (two flows: Quick Setup and Advance Setup):**
- Multi-step form guided by a vertical Stepper (VerticalStepper component).
- Page Layout: SuperAdminLayout with expanded SuperAdminSidebar and AppHeader with dynamic breadcrumbs ("Corporation Directory > Add New Corporation").
- Page Header: "Add New Corporation" (20px/600, #2F414A). Description: **Quick Setup** — "Set up a new corporation with its plan, region, and initial admin access." (14px/400, #385966); **Advance Setup** — "Set up a new corporation with its basic details, company, branding, and governance." (14px/400, #385966).
- Setup Tag: **Quick Setup** — background #F8F7FB, icon / zap (#3A6FD8), text "Quick Setup" (Inter, 600, 14, #344C56), aria-label "Corporation Setup Type: Quick Setup". **Advance Setup** — background #F8F7FB, icon / sliders-vertical (#3A6FD8), text "Advance Setup" (Inter, 600, 14, #344C56).
- **Quick Setup (3 steps):** Stepper: Basic Info., Company Info., Confirmation. Sub-descriptions: "Organization details", "Set up first operating unit", "Review & confirm". ProgressTracker: Step 1: 0%, Step 2: 33%, Step 3: 66%. Progress bar track background #F8F7FB for Quick Setup.
- **Advance Setup (5 steps):** Stepper: Basic Info., Company Setup, Branding & Domains, Governance & Permissions, Confirmation.
  - Step Titles: Basic Info. (active: 16px/600, #3A6FD8; upcoming: 16px/600, #498291), Company Setup, **Branding & Domains**, **Governance & Permissions**, Confirmation. Completed step titles use primary text color rgba(47, 65, 74, 1).
  - Step Sub-descriptions: "Corporation-based details" (Basic Info.), "Company assignment" (Company Setup), "Identity configuration" (Branding & Domains), "Structure & access" (Governance & Permissions), "Review all details" (Confirmation). (All 14px/400, #385966).
  - Visuals: Completed steps show blue checkmark; active step blue number (#3A6FD8 on rgba(26, 39, 46, 0.05)); upcoming grey number (#498291 on rgba(26, 39, 46, 0.05)). Navigation via Previous (grey), Next (blue), Cancel (white). Steps are clickable to revisit completed stages.
- ProgressTracker: Displays "X% Complete" per step (Step 1: 0%, Step 2: 20%, Step 3: 40%, Step 4: 60%, **Step 5: 80%**) (12px/500, #2F414A), with a horizontal progress bar (#305FA1 on #F1F0F7).
- **Step 1: Basic Info.** — Three FormCard sections:
  1. **"Corporation Basics"** (CorporationBasicsCard): Card Header title "Corporation Basics" (16px/500, #385966). FormGroupLabel "Corporation Legal Name" with TextInput (placeholder "e.g., Acme Corporation", required *). FormGroupLabel "DBA Name" with TextInput (placeholder "e.g., Acme Inc."). FormGroupLabel "Region (Data Residency)" with CustomSelect (placeholder "Select operating region", required *, options from mockRegions.js). FormGroupLabel "Industry" with CustomSelect (placeholder "Select industry", required *, options from mockIndustries.js). FormGroupLabel "Corporate Phone No." with TextInput (placeholder "e.g., +1 555 123 4567", required *, inputmode="numeric"). FormGroupLabel "Website URL" with TextInput (placeholder "e.g., https://www.acme.com", required *).
  2. **"Corporation Address"** (CorporationAddressCard): Card Header title "Corporation Address" (16px/500, #385966). FormGroupLabel "Address Line" with TextInput (placeholder "Address line", required *). FormGroupLabel "State/ Province" with CustomSelect (placeholder "Select state/ province", required *, options from mockStates.js). FormGroupLabel "City" with CustomSelect (placeholder "Select city", required *, options from mockCities.js). FormGroupLabel "Country" with CustomSelect (placeholder "Select country", required *, options from mockCorporationCountries.js). FormGroupLabel "ZIP/ Postal Code" with TextInput (placeholder "Enter zip/ postal code", inputmode="numeric"). FormGroupLabel "Time Zone" with CustomSelect (placeholder "EST (Eastern Time)", required *, options from mockTimeZones.js).
  3. **"Executive Sponsor"** (ExecutiveSponsorCard): Card Header title "Executive Sponsor" (16px/500, #385966). FormGroupLabel "Name" with TextInput (placeholder "e.g., Mike Davis", required *). FormGroupLabel "Role" with TextInput (placeholder "e.g., CEO, Corporate Admin", required *). FormGroupLabel "Email" with TextInput (placeholder "e.g., mike_davis@email.com", required *, inputmode="email"). FormGroupLabel "Work Phone No." with TextInput (placeholder "e.g., +1 555 123 4567", required *, inputmode="numeric"). FormGroupLabel "Cell Phone No." with TextInput (placeholder "e.g., +1 555 123 4567", inputmode="numeric").
- **Quick Setup Step 2: Company Info. & Access Setup** — Page header "Add New Corporation", description "Set up a new corporation with its plan, region, and initial admin access.", Setup Tag "Quick Setup". Stepper: Step 1 completed, Step 2 active ("Company Info."), Step 3 upcoming ("Confirmation"). ProgressTracker "33% Complete" (bar #305FA1 on #F8F7FB). Main content heading "Company Info." (20px/600, #2F414A), description "Each corporation must have at least one company before continuing." (14px/400, rgba(73, 130, 145, 1)). **FormCard "Company Details"** (titleId/aria-labelledby, role="group"): FormGroupLabel "Company Legal Name" (TextInput, placeholder "e.g., Acme India Pvt Ltd", required); "Company Type" (CustomSelect, placeholder "Operating Company", required, mockCompanyTypes); "Office Type" (CustomSelect, placeholder "Regional", required, mockOfficeTypes); "Region (Data Residency)" (CustomSelect, placeholder "North America", mockRegions); "Industry" (CustomSelect, placeholder "Technology/ SaaS", mockIndustries); "State/ Province" (CustomSelect, placeholder "CA", required, mockStates); "City" (CustomSelect, placeholder "San Francisco", required, mockCities); "ZIP/ Postal Code" (TextInput, placeholder "100202", required, inputmode="numeric"). **FormCard "Access Setup"** (titleId/aria-labelledby, role="group"): "Admin Name" (TextInput, placeholder "e.g., Martin Morgan", required); "Company Admin Email" (TextInput, placeholder "e.g., admin@acmcare.com", required, inputmode="email"); "No. of Employees" (TextInput, placeholder "e.g., 25, 50, etc.", required, inputmode="numeric"); "Security Posture" (TextInput, read-only, value "Standard", aria-readonly="true"). Next disabled until all required fields valid (selectIsQuickSetupStep2Valid). Previous enabled. Cancel navigates to /corporations.
- **Quick Setup Step 3: Confirmation** — Section heading "Confirmation", description "Review all the details that has been added.". ProgressTracker "66% Complete" (track #F8F7FB). SummaryCard sections for Corporation Info., Executive Sponsor, Company Details (from quickSetupStep2), and **Admin User** (from quickSetupStep2: Admin Name, Company Admin Email, No. of Employees, Security Posture). "Confirm & Add" submits via submitQuickSetupCorporation; on success redirect to /corporations.
- **Step 2: Company Setup (Advance Setup)** - Allows the user to assign companies to the corporation. Page header "Add New Corporation" (20px/600, #2F414A), description "Set up a new corporation with its basic details, company, branding, and governance." (14px/400, #385966). Setup Tag "Advance Setup". Stepper: Step 1 completed (blue checkmark), Step 2 active (blue number 2), Steps 3–5 upcoming (grey numbers). ProgressTracker "20% Complete" (12px/500, #2F414A; bar #305FA1 on #F1F0F7). Main content heading "Company Setup" (20px/600, #2F414A), description "Each corporation must have at least one Company before continuing." (14px/400, rgba(73, 130, 145, 1)). **CompanyAssignmentList** includes: (1) **CorporationCompanyAssignmentInfoCard** (InfoAlertCard variant) with title "Company Assignment & Modification" (14px/600, #2F414A), description "Created companies will be assigned to the corporation in the subsequent steps." (14px/400, #498291), Icon / info (#3A6FD8), background #F1F6FD; (2) label "Companies (X)" (14px/400, #385966) where X is the count of added companies; (3) list of **CompanyCard** components—each card: background #FFFFFF, leading IconButton (background #E7EDF7, Icon / building-2 #305FA1), company name (Inter 500 14px #2F414A), type and location (Inter 400 12px #385966) with separator ellipse #649DAC, **CompanyActions**: Edit (Icon / square-pen #344C56) and Delete (Icon / trash-2 #C44755) with aria-labels "Edit {CompanyName} details" and "Delete {CompanyName}"; (4) **AddCompanyToListButton** with Icon / plus and label "Add New Company" (Inter 600 14px #305FA1), background #FFFFFF, aria-label "Add new company to corporation". Clicking "Add New Company" opens **AddCorporationCompanyModal**. Modal includes: **Company Info.** section — Company Legal Name (required), Company Type (CustomSelect, placeholder "Select company type", required), Office Type (CustomSelect, placeholder "Select office type", required), Region (Data Residency) and Industry (CustomSelect, read-only, background rgba(248, 247, 251, 1)), State/ Province, City, ZIP/ Postal Code (required), **Time Zone** (CustomSelect, placeholder "Select time zone", required, options from mockTimeZones); **Access Setup** section — Admin Name, Company Admin Email, No. of Employees (required), Security Posture (TextInput read-only, value "Standard", background rgba(248, 247, 251, 1)); Divider between sections; Cancel and "Add Company" buttons. Submitting adds a Company (id, name, type, location, timeZone) to formData.step2.companies and closes the modal. **Verify Delete button on a CompanyCard opens `DeleteCompanyConfirmationModal` with the specific company name.** Verify `DeleteCompanyConfirmationModal` content and interaction (Cancel, Delete Company buttons); on confirm, company is removed from list via deleteCompanyFromCorporation. Edit (placeholder for future modal). **Next** button disabled until at least one company is in the list (selectCorporationStep2ValidationStatus). **Previous** enabled (navigates to Step 1). **Cancel** navigates to /corporations.
- **Step 3: Branding (NEW):** Section heading "Branding" (20px/600, #2F414A), description "Configure corporation identity." (14px/400, #385966). FileUploadInput "Upload Logo" with instructions "Click to upload or drag-&-drop file", supported formats "SVG, PNG & JPG up to 10MB", Icon / upload. Logo is optional. Redux corporationCreation slice stores step3 formData (logoFile) via setCorporationStep3LogoFile. ProgressTracker displays "40% Complete".
- **Step 4: Key Contacts (NEW):** Section heading "Key Contacts" (20px/600, #2F414A), description "Define governance and key contact details for the corporation." (14px/400, rgba(73, 130, 145, 1)). ProgressTracker displays "60% Complete". Three card sections:
  1. **Primary Corporate Admin** (PrimaryCorporateAdminCard): Collapsible card with IconButton (Icon / chevron-down, color rgba(73, 130, 145, 1), background rgba(248, 247, 251, 1)). Card header title "Primary Corporate Admin" (16px/500, rgba(56, 89, 102, 1)). CardContent with five FormGroupLabel/TextInput pairs: Name (placeholder "e.g., Mike Davis", required *), Role (placeholder "e.g., CEO, Corporate Admin", required *), Email (placeholder "e.g., mike_davis@email.com", required *, inputmode="email"), Work Phone Number (placeholder "e.g., +1 555 123 4567", required *, inputmode="numeric"), Cell Phone Number (placeholder "e.g., +1 555 123 4567", optional, inputmode="numeric"). Required field * uses rgba(196, 71, 85, 1). Redux formData.step4 stores primaryCorporateAdminName, primaryCorporateAdminRole, primaryCorporateAdminEmail, primaryCorporateAdminWorkPhone, primaryCorporateAdminCellPhone. Validation: required fields, email format, phone format. Next button disabled until Primary Corporate Admin required fields are valid.
  2. **Billing/ Finance Contact** (BillingFinanceContactCard): Card with title "Billing/ Finance Contact" (16px/500, rgba(56, 89, 102, 1)), IconButton with Icon / chevron-right (color rgba(73, 130, 145, 1)). Clickable header for future navigation/management of billing contact.
  3. **Legal/ Compliance Contact** (LegalComplianceContactCard): Card with title "Legal/ Compliance Contact" (16px/500, rgba(56, 89, 102, 1)), IconButton with Icon / chevron-right (color rgba(73, 130, 145, 1)). Clickable header for future navigation/management of legal contact.
- Action buttons: "Cancel" (white), "Previous" (grey, hidden for Step 1), "Next" (blue). On Step 5, next button label is **"Confirm & Add"**; Next disabled until required fields valid in Step 1 or Step 4 (Primary Corporate Admin), or when submitting on Step 5. Previous enabled on Step 4 and Step 5. Steps 2 and 3 allow Next without additional required validation (Step 2 placeholder; Step 3 logo optional).
- **NEW: Step 5: Confirmation**
- Section heading "Confirmation" (20px/600, #2F414A), description "Review all the details that has been added." (14px/400, rgba(73, 130, 145, 1)).
- ProgressTracker displays "80% Complete".
- Review sections (section headers: Inter, 500, 12, rgba(56, 89, 102, 1)):
  1. **Corporation Info.:** ReviewDataDisplayRow for Corporation Legal Name, DBA Name, Region (Data Residency), Industry, Corporate Phone No., Website URL, Address (combined), Time Zone.
  2. **Executive Sponsor:** ReviewDataDisplayRow for Name, Role, Email, Work Phone No., Cell Phone No.
  3. **Company Details:** List of CompanyReviewCard instances (Icon / building-2, Company Name, Company Type, Location). Example: TechVentures Digital, Innovation Labs, Marit Inc. **This will now display CompanyFormData details as added via the modal.**
  4. **Branding:** ReviewDataDisplayRow for Brand Logo with CorporationLogoDisplay (uploaded logo or placeholder).
  5. **Key Contacts:** ReviewDataDisplayRow for Primary Corporate Admin, Billing/ Finance Contact, Legal/ Compliance Contact.
- Action buttons: "Cancel" (white), "Previous" (grey), "Confirm & Add" (blue). Confirm & Add triggers submitCorporationCreation; on success redirect to /corporations.
--------------------------------------------------------------------------------
6. RUNNING THE APPLICATION
--------------------------------------------------------------------------------
- Install:   npm install
- Dev server: npm run dev   (default http://localhost:5173)
- Build:   npm run build
- Preview:   npm run preview
--------------------------------------------------------------------------------
7. TESTING (PLAYWRIGHT)
--------------------------------------------------------------------------------
- Run E2E tests:   npm run test:e2e
- Run with UI:   npm run test:e2e:ui
- Tests start the dev server automatically when CI=true; otherwise they reuse
an existing server on port 5173 if present.
E2E test coverage:
- **NEW: Forgot Password Page (forgot-password.spec.js):** Navigate to /forgot-password. Verify BSPBlueprintLogo, AuthPageFooter ("Version 1.0", "Privacy Policy | Terms of Use"). Verify "Forgot Password?" title and description "No worries — we'll send you reset instructions.". Verify Email label and TextInput (placeholder "Enter email"). Verify "Send Instructions" button (initially disabled, enabled on valid email, loading "Sending instructions..." on submit). Verify "Back to Login" navigates to /login. Verify client-side validation (invalid email shows inline error "Your email address is invalid.", button disabled). Verify success: toast "Password reset instructions sent" and redirect to /login. Verify failed submission (e.g. fail@test.com) shows GlobalToast error. **These tests are confirmed to cover the mobile viewport as well, ensuring responsiveness.**
- **UPDATED: Reset Password Page (reset-password.spec.js):** Navigate to /reset-password/valid-token. Verify BSPBlueprintLogo, AuthPageFooter ("Version 1.0", "Privacy Policy | Terms of Use"). Verify "Set New Password" title and description "Must be at least 8 characters...". Verify Password and Confirm Password labels and inputs (placeholders, textboxes with accessible names). Verify password visibility toggle (Show/Hide password, first input). Verify PasswordStrengthIndicator (Initial then Weak/Average/Strong as user types, including "Poor" text label with correct styling for the weak state, "Average" text label with correct styling and progress bar fill for the average state, and "Strong" text label with correct styling and progress bar fill for the strong state). **Explicit test "password strength indicator Poor state has correct progress bar fill and label styling": verify Poor label color rgba(196, 71, 85, 1), progress bar fill rgba(196, 71, 85, 1), aria-valuenow 33, aria-valuetext "Password strength: Poor".** **Explicit test "password strength indicator Strong state has correct progress bar fill and label styling": verify Strong label color rgba(47, 143, 107, 1), progress bar fill rgba(47, 143, 107, 1), aria-valuenow 100, aria-valuetext "Password strength: Strong".** Verify "Reset Password" button (initially disabled, enabled when passwords meet complexity and match, loading "Resetting Password..." on submit). Explicitly verify "Reset Password" button background color is `rgba(99, 146, 205, 1)` (PRIMARY_ACCENT_BLUE) per structural data. Verify "Back to Login" navigates to /login. Verify client-side validation: short password shows "Password must be at least 8 characters."; mismatched passwords show "Passwords do not match." and button stays disabled. Verify successful reset shows GlobalToast "Password reset successfully." and redirects to /login. Verify invalid token (e.g. /reset-password/invalid-token) shows GlobalToast error. Covers mobile viewport responsiveness, visually confirming the layout and styling for 'poor', 'average', and 'strong' password strength states and all other specified visual attributes and typography.
- **UPDATED: Dashboard Page (dashboard.spec.js):** Navigate to /dashboard. Verify SuperAdminLayout elements (page title, navigation). Verify breadcrumb "Dashboard". Verify page title "Dashboard Overview" and description "Monitor and manage your entire platform". Verify "Export Report" button (label, aria-label="Export dashboard report"). Verify empty state messages: "No metrics available" and "Metrics will appear here once data is generated." Verify "Dashboard" sidebar item is active (aria-current="page"). Verify theme toggle (moon icon) and notifications (bell icon) in header. **Mobile viewport (375x667):** Verify mobile header (role="banner") with BSPBlueprint logo, "Toggle navigation menu" button (panel-left), "More options" button (ellipsis). Verify page title font-size 16px and empty state typography. Verify Toggle navigation menu opens mobile sidebar (Drawer) with "Navigate to Dashboard" link visible.
- **UPDATED: Login Page (login.spec.js):** Navigate to /login. Verify BSPBlueprintLogo, LoginCard, page title "Welcome back!", description "Enter your email and password to sign in.". Verify Email and Password labels and inputs. Verify password visibility toggle (Show/Hide password). Verify Remember me switch. Verify "Forgot Password?" link navigates to /forgot-password. Verify Login button (initially disabled, enabled with valid email and password, loading "Logging In..."). Verify client-side validation (invalid email keeps button disabled; invalid email with blur shows inline error "Your email address is invalid." and Login stays disabled; empty password with blur shows "Please enter your password." and Login stays disabled). Verify email error message element id="login-email-error" for accessibility. Verify successful login redirects to /dashboard. Verify failed login (e.g. fail@test.com) shows GlobalToast error. Verify "Need help?" text and "Contact Us" link. Verify AuthPageFooter ("Version 1.0", "Privacy Policy | Terms of Use"). The "Mobile Login - Details Filled" state is visually validated in E2E tests (mobile viewport 375x667: filled email/password, Remember me on, Login enabled, key content visible).
- **Corporation Profile (/corporations/:id/profile):** Navigate to /corporations, wait for table data, click View details for Acme Corporation to go to profile; verify corporation name (e.g. Acme Corporation), code badge (e.g. CORP-001), status badge (e.g. Active); verify Back button (link) navigates to /corporations; verify action buttons: Edit (aria-label "Edit corporation details"), Suspend (text in error color), Close Corporation (background error color, white text); breadcrumb "Corporation Directory > [Corporation Name]"; verify tab switching (Basic Info., Key Contacts, Plan & Seats, Configuration). **Default active tab is "Basic Info.":** Verify Basic Info. tab content: #basic-info-tabpanel visible; Corporation Basics, Executive Sponsor, Key Contacts cards (h3 headings); ConfigDisplayRow labels and values (e.g. Corporation Legal Name, DBA Name, Corporate Phone No., Region, Industry, Website URL, Address, Time Zone, Created On; Executive Sponsor: Name, Role, Email, Work Phone No., Cell Phone No.; Key Contacts: Primary Corporate Admin, Billing/ Finance Contact, Legal/ Compliance Contact). **Configuration tab:** Click Configuration tab; verify audit log table: SearchInput (placeholder "Search here...", aria-label "Search audit log entries"), CustomSelects ("Filter by action types", "Filter by time range"); verify #configuration-tabpanel; verify Table column headers (Timestamp, Actions, Status, Actor); verify Status badges (User Management, Plan & Seats, Configuration); verify "Showing X entries" and TablePagination (Previous page, Next page). **Close Corporation:** Verify CloseCorporationConfirmationModal opens; modal title "Close Corporation"; Pre-defined Reasons CustomSelect (aria-label "Pre-defined Reasons"); select reason enables submit; Cancel/close icon closes modal; submit closes modal and redirects to /corporations.
- **Corporation Directory (corporations-directory.spec.js):** Navigate to /corporations. Verify page title "Corporations", description "View and manage all corporations across the platform", "Add New Corporation" button (aria-label "Add a new corporation") navigates to /corporations/add. Verify SearchInput (placeholder "Search here...", aria-label "Search corporation directory") and CustomSelects (aria-label "Filter by corporation status", "Filter by creation time range"). Verify table column headers: Corp. ID, Corporation Name, Status, Executive Sponsor, Companies, Created On, Actions. Verify table data (e.g. Acme Corporation, North America, Active badge, Alice Johnson, pagination "Showing X corporations"). Verify View details button (aria-label "View details for Acme Corporation") navigates to /corporations/:id/profile.
- **Company Profile - View Details & Edit Details (company-config.spec.js):** **View Details (/companies/:id):** Navigate to /companies/:id; verify company name (e.g. New York HQ), status badges (Assigned, Enterprise), Delete button, **Edit Company button**; breadcrumb "Company Directory > [Company Name]"; **Basic Info. tab (default)**. **Delete Company Confirmation Modal:** Verify clicking Delete button opens `DeleteCompanyConfirmationModal`; modal title "Are you sure you want to delete this company?"; verify Cancel button closes modal; verify Delete Company button (error background, white text); verify clicking Delete Company button (when enabled) closes modal and redirects to /corporations; verify GlobalToast success message. shows section "Basic Info.", description "View and manage core company details.", **FormCard "Company Basics"** (first) with ConfigDisplayRow for Company Legal Name, DBA/ Trade Name, Website URL, Company Type, Office Type, Region (Data Residency), Industry, Primary Language, Company Phone No., Company Address; **FormCard "Parent Corporation Info."** (second) with Parent Corporation Legal Name, Ownership Type; **Edit Company button** has aria-label "Edit company basic information"; Configuration tab (click to switch): read-only Security Settings, Branding & Experience (ViewLogoPreview), Reporting Preferences via ConfigDisplayRow (no Cancel/Save & Update); Key Contacts tab shows read-only **Roster Details** card/contact names; **Plan & Seats tab shows three read-only cards: Plan Allocation & Seats Management, Trial Configuration (with "Trial Status" badge and "Trial Length" formatted as "X days (Auto-expire)"), and conditionally ACH Details;** Back button navigates to /corporations; **clicking "Edit Company" navigates to /companies/:id/edit**. **Edit Details (/companies/:id/edit):** Navigate to /companies/:id/edit (or via Edit Company from view); breadcrumb "Company Directory > [Company Name] > Edit"; Back button navigates to /companies/:id. **Delete Company Confirmation Modal:** Verify clicking Delete button opens `DeleteCompanyConfirmationModal`; modal title "Are you sure you want to delete this company?"; verify Cancel button closes modal; verify Delete Company button (error background, white text); verify clicking Delete Company button (when enabled) closes modal and redirects to /corporations; verify GlobalToast success message. **Basic Info. tab (default):** section "Basic Info.", description "View and edit core company details.", Parent Corporation, Company Info., Company Address form cards, Cancel and Save & Update; Save & Update shows toast "Basic Info. saved"; Configuration tab (click to switch): Security Settings, Branding & Experience (Branding Note, Upload Logo, Logo Preview), Reporting Preferences forms; Save & Update toast "Configuration saved"; Key Contacts tab: Roster Note, Upload Roster, five CustomSelect fields, Save & Update toast "Key Contacts saved"; Plan & Seats tab: Plan Allocation & Seats Management, Trial Configuration, ACH Details when Payment Type is ACH, Save & Update toast "Plan & Seats saved".
- Two-Factor Authentication (2FA): Navigate to /2fa/verify, verify overall page background rgba(248, 247, 251, 1). Verify BSPBlueprintLogo (l.svg, black wordmark) in top-left. Verify central TwoFactorAuthDialog (background rgba(255, 255, 255, 1)) with border-radius 8px. Verify dialog title **"Password Reset"** (id 2fa-dialog-title) and description "We've sent a 6-digit code to your email ad***@pcsglobal.com". Verify label "Enter code" above OTP inputs (with CountdownTimer when no error). Verify 6 OtpInput fields with "0" as placeholder/value and separator.svg after third digit. Verify "Verify Account" button (label, disabled until 6 digits). Verify **"Back to Login" button** (navigates to /login). Verify "Didn't receive a code?" text and "Resend Code" link. Verify error handling: incorrect code shows inline error "The verification code is invalid." below OTP inputs (id otp-error-message, role alert) and GlobalToast ("We couldn't verify your credentials." / "Kindly get a new code & try again."). Verify AuthPageFooter text styling. Verify OTP input: auto-focus, paste, navigation. Success (123456) redirect to /corporations. Error state: OTP inputs retain entered digits; inline error visible; CountdownTimer hidden (no MM:SS visible). Resend Code state. GlobalToast dismissible and auto-hide. Verify accessibility: dialog aria-labelledby **2fa-dialog-title**; OTP group aria-labelledby otp-input-label; when error, OtpInputGroup aria-invalid and aria-describedby otp-error-message.
- Add New Company Onboarding: Navigate to /companies/add; verify initial
content (Header, Sidebar, horizontal Stepper, Page Title, Description). Breadcrumbs
"Company Directory > Add New Company". Sidebar group labels and menu items (Company Directory),
Notifications badge. Horizontal Stepper step titles and sub-descriptions (Basic Info. active), ProgressBar "0% Complete", form cards (Parent Corporation, Company Info., Company Address) with FormInput/FormSelect. Next disabled until Step 1 required fields valid. Cancel, Previous (hidden on step 1), Next buttons. Step 1: fill required fields then Next advances to step 2. Step 2 Key Contacts: Roster Note, Progress Tracker, Uploader (instruction
text, CSV & XLS up to 20MB), ContactSelect dropdowns (open, select option).
Cancel with confirmation navigates to /corporations. Previous from step 2
returns to step 1.
- **Step 3 Plan & Seats:** Navigate to step 3 (after completing steps 1-2). Verify section "Plan & Seats" and description. Verify Progress Tracker "40% Complete". Verify "Plan Allocation & Seats Management" card with RadioGroupField (options "Trial", "Pilot"; "Trial" selected by default). If "Trial" selected: verify "Trial Configuration" section, CustomSelect "Trial Length", TextInput "Trial End Date", TextInput "Trial Seats" (NO INFO ICON). Verify TrialPeriodSwitchGroup "Auto-expire Trial" (default: On) with secondary text "Automatically suspend access when trial period end" (updated text/color). Verify CustomSelect for Plan, TextInput for Total Seats, CustomSelect for Billing Cycle, CustomSelect for Payment Type (initial selection "ACH (Bank Transfer)"), CustomSelect for Billing Currency.
If Payment Type is "CC (Credit Card)": verify "CC (Credit Card) Details" card and TextInput fields for Cardholder Name, Card Number, CVV, Expiration Date, Billing ZIP/Postal Code, and CustomSelect Country.
If Payment Type is "Wiring (Bank Details)": verify "Wiring (Bank) Details" card and TextInput fields for Beneficiary Name, Bank Name, Bank Account No. (inputmode="numeric"), Bank Country (CustomSelect), and SWIFT/ BIC Code.
If Payment Type is "ACH (Bank Transfer)": verify "ACH (Bank Transfer) Details" card and TextInput fields for Account Holder Name, Bank Name, Account No. (inputmode="numeric"), CustomSelect Account Type, CustomSelect Payment Direction, and Routing No. (inputmode="numeric").
Verify Previous navigates to step 2, Next disabled until required fields valid in the currently visible payment card, Cancel navigates to /corporations.
- **Step 4 Configuration:** Navigate to step 4 (after completing steps 1-3 and filling Step 3 required fields).
Verify section headers and descriptions. Verify Progress Tracker "60% Complete".
Verify "Security Settings" card with CustomSelect fields for "Authentication Method",
"Password Policy", "2FA Requirement" and TextInput for "Session Timeout (In minutes)".
Verify "Branding & Experience" card with InfoAlertCard "Branding Note" (correct text, info icon).
Verify FileUploadInput "Upload Logo" (correct instruction text, supported formats, upload icon).
Verify "Reporting Preferences" card with RichCheckboxGroup ("Default Dashboard" options, single selection).
Verify TrialPeriodSwitchGroup for "Data Export Permission" and "User Data Anonymization"
(initial state off, toggle interaction). Verify Previous navigates to step 3, Cancel
navigates to /corporations.
- **Step 5 Confirmation (Add New Company):** Navigate to step 5 (after completing steps 1-4). Verify section title "Confirmation" and description "Review all the details that has been added.". Verify Progress Tracker "80% Complete". Verify SummaryCard sections: "Company Info.", "Key Contacts", "Plan Allocation & Seats Management", "Security Settings", "Branding & Experience", "Reporting Preferences". Verify DataDisplayRow elements show labels and values from formData. Verify action buttons: "Cancel", "Previous" (navigates to step 4), "Confirm & Add". Verify "Confirm & Add" shows loading state ("Submitting...") during submission. Verify successful submission redirects to /corporations; failed submission displays GlobalToast error.
- **NEW: Add New Corporation Onboarding (Quick Setup - Step 1):** Navigate to /corporations/add (default Quick Setup).
  - Verify initial content: Header, Sidebar, Stepper, Page Title "Add New Corporation", description "Set up a new corporation with its plan, region, and initial admin access.", Setup Tag ("Quick Setup").
  - Verify breadcrumbs: "Corporation Directory > Add New Corporation".
  - Verify Stepper steps: "Basic Info.", "Company Info.", "Confirmation" with sub-descriptions "Organization details", "Set up first operating unit", "Review & confirm". Verify step 1 as active.
  - Verify Progress Tracker "0% Complete". Verify "Corporation Basics", "Corporation Address", "Executive Sponsor" cards with expected fields. Cancel, Previous (disabled), Next (disabled until Step 1 valid).
- **NEW: Add New Corporation Onboarding (Advance Setup - Step 1):** Navigate to /corporations/add?flow=advance.
  - Verify Setup Tag "Advance Setup", description "Set up a new corporation with its basic details, company, branding, and governance.". Verify Stepper: 5 steps (Basic Info., Company Setup, Branding & Domains, Governance & Permissions, Confirmation).
  - Verify Progress Tracker "0% Complete", same form cards as Quick Setup Step 1.
- **NEW: Add New Corporation - Quick Setup - Step 2: Company Info. & Access Setup:** Complete Step 1 and advance. Verify heading "Company Info.", description "Each corporation must have at least one company before continuing.", ProgressTracker "33% Complete". Verify FormCard "Company Details" with Company Legal Name, Company Type (placeholder "Operating Company"), Office Type (placeholder "Regional"), Region (placeholder "North America"), Industry (placeholder "Technology/ SaaS"), State/ Province (placeholder "CA"), City (placeholder "San Francisco"), ZIP/ Postal Code (placeholder "100202"). Verify FormCard "Access Setup" with Admin Name, Company Admin Email, No. of Employees, Security Posture (read-only "Standard"). Verify Previous enabled, Next disabled until required fields valid, Cancel navigates to /corporations.
- **NEW: Add New Corporation - Quick Setup - Step 3: Confirmation:** Complete Step 1 and Step 2 Quick Setup and advance. Verify heading "Confirmation", description "Review all the details that has been added.", ProgressTracker "66% Complete". Verify SummaryCard sections: "Corporation Info.", "Executive Sponsor", "Company Details" (from quickSetupStep2), and **"Admin User"** (from quickSetupStep2: Admin Name, Company Admin Email, No. of Employees, Security Posture). Verify "Confirm & Add" button; on click redirects to /corporations.
- **NEW: Add New Corporation - Step 2: Company Setup (Advance Setup):** Navigate to step 2 (complete Step 1 and advance). Verify page heading "Company Setup" (h2), description "Each corporation must have at least one Company before continuing.", ProgressTracker "20% Complete". Verify CorporationCompanyAssignmentInfoCard with title "Company Assignment & Modification" and description "Created companies will be assigned to the corporation in the subsequent steps." Verify "Companies (X)" label. Verify list of CompanyCard instances (when companies exist) with company name, type, location, and Edit (square-pen) and Delete (trash-2) buttons. Verify AddCompanyToListButton with aria-label "Add new company to corporation" and label "Add New Company". Verify clicking it opens AddCorporationCompanyModal. Verify modal header "Add New Company", description "Add a new physical Company to the system", close button, Company Info. and Access Setup sections, Cancel and "Add Company" (disabled until valid). **Verify modal includes Time Zone field (CustomSelect, required) and that Region (Data Residency), Industry, and Security Posture are read-only (grey background).** Verify filling form including Time Zone and clicking "Add Company" closes modal and updates company count. Verify filling form and clicking "Add Company" closes the modal and updates company count. **Verify Delete button on a CompanyCard opens `DeleteCompanyConfirmationModal` with the specific company name.** Verify `DeleteCompanyConfirmationModal` content and interaction (Cancel, Delete Company buttons); on confirm, company is removed from list. Verify Previous enabled (navigates to Step 1). Verify Next disabled when no companies; Next enabled when at least one company. Verify Cancel navigates to /corporations.
- **NEW: Add New Corporation - Step 3: Branding:** Navigate to step 3 (complete Step 1 and advance through Step 2).
  - Verify section heading "Branding" and description "Configure corporation identity.".
  - Verify Progress Tracker "40% Complete".
  - Verify FileUploadInput "Upload Logo" with instruction text "Click to upload or drag-&-drop file" and supported formats "SVG, PNG & JPG up to 10MB".
  - Verify "Previous" from step 3 returns to step 2 (20% Complete).
  - Verify "Cancel" from step 3 navigates to /corporations when confirmed.
- **NEW: Add New Corporation - Step 4: Key Contacts:** Navigate to step 4 (complete Steps 1–3).
  - Verify section heading "Key Contacts" and description "Define governance and key contact details for the corporation.".
  - Verify Progress Tracker "60% Complete".
  - Verify Primary Corporate Admin card with collapsible content and fields: Name, Role, Email, Work Phone Number, Cell Phone Number (correct placeholders and required *).
  - Verify Billing/ Finance Contact and Legal/ Compliance Contact cards with chevron-right (clickable/navigational).
  - Verify "Next" button disabled until required Primary Corporate Admin fields are valid.
  - Verify "Previous" from step 4 returns to step 3 (40% Complete).
- **NEW: Add New Corporation - Step 5: Confirmation:** Navigate to step 5 (after completing Steps 1–4).
  - Verify section heading "Confirmation" and description "Review all the details that has been added.".
  - Verify Progress Tracker "80% Complete".
  - Verify "Corporation Info." section with ReviewDataDisplayRow for Legal Name, DBA, Region, Industry, Phone, Website, Address, Time Zone.
  - Verify "Executive Sponsor" and "Company Details" sections (CompanyReviewCard e.g. TechVentures Digital, Innovation Labs, Marit Inc. **now reflecting data entered via the modal**).
  - Verify "Branding" and "Key Contacts" sections.
  - Verify "Confirm & Add" button present and enabled; on click, redirect to /corporations.
  - Verify "Previous" from step 5 returns to step 4 (60% Complete).
  - Verify "Cancel" from step 5 navigates to /corporations when confirmed.
--------------------------------------------------------------------------------
8. DESIGN TOKENS (FROM SPEC)
--------------------------------------------------------------------------------
Colors, spacing, typography, and component states follow the specification:
- Background: #F8F7FB; primary text: #2F414A; accent: #305FA1; success: #2F8F6B;
error: #C44755; sidebar/header/cards: #FFFFFF.
- Specific Colors: Secondary Text #385966; Link Button #3A6FD8; Footer Text
#498291; Divider #DDDAEB. Error Message Text #A12F3F (in-dialog); GlobalToast
uses #C44755 background, white text. Required field * uses #C44755.
- New: Info Card / Sidebar Badge background #F1F6FD; Progress Bar /
Uploader file item background #F1F0F7; Scrollbar #D3CDE5; Stepper hover
rgba(26, 39, 46, 0.05). **NEW: ProfileTabs tab group wrapper background** rgba(241, 240, 247, 1) (#F1F0F7). **ProfileTabs active tab:** background rgba(255, 255, 255, 1), label color rgba(48, 95, 161, 1); **inactive tab label** rgba(56, 89, 102, 1). **Company status badges (CompanyBadges):** "Assigned" badge background rgba(47, 143, 107, 1) (success), "Enterprise" badge background rgba(48, 95, 161, 1) (accent); both text rgba(255, 255, 255, 1); typography Inter 600 12px. **Sidebar Notifications badge:** count text color rgba(58, 111, 216, 1); background rgba(241, 246, 253, 1). **BSPBlueprint logo (public/vectors/l.svg):** wordmark "BSPBlueprint" fill rgba(0, 0, 0, 1); symbol vectors unchanged. **UPDATED: BSPBlueprint 'powered by BSPBlueprint' text: rgba(100, 157, 172, 1) Inter 500 12px. Corporation Profile 'Edit' button: background rgba(255, 255, 255, 1), text rgba(47, 65, 74, 1), icon rgba(52, 76, 86, 1). 'Suspend' button text: rgba(196, 71, 85, 1). 'Close Corporation' button: background rgba(196, 71, 85, 1), text rgba(255, 255, 255, 1). Corporation Profile ConfigDisplayRow value text rgba(47, 65, 74, 1) Inter 500 14px; label text rgba(56, 89, 102, 1) Inter 400 14px. Icon / panel-left (sidebar toggle) color rgba(73, 130, 145, 1). Icon / settings stroke color rgba(52, 76, 86, 1).**
- **NEW: PasswordStrengthIndicator Text Label Color for 'Poor'/'Weak' state: rgba(196, 71, 85, 1). NEW: PasswordStrengthIndicator Text Label Color for 'Average' state: rgba(203, 145, 39, 1). NEW: PasswordStrengthIndicator Text Label Color for 'Strong' state: rgba(47, 143, 107, 1).**
- **NEW: PasswordInput Value Text Color: rgba(73, 130, 145, 1).**
- Expanded Color Palette for Step 3, Step 4 components, new sidebar elements, Add New Corporation - Step 1 components, **and AddCorporationCompanyModal:**
- Step 3 specific: Radio dot rgba(48, 95, 161, 1); Radio background rgba(255, 255, 255, 1); TextInput (Pilot End Date) background rgba(248, 247, 251, 1); Switch (on state) track rgba(48, 95, 161, 1); Switch (on state) toggle rgba(255, 255, 255, 1).
- Sidebar Group Label Text: rgba(73, 130, 145, 1)
- Sidebar Menu Item Icon color: rgba(47, 65, 74, 1)
- Info Alert Card Icon (icon / info) color: rgba(58, 111, 216, 1)
- Info Alert Card Title text: rgba(47, 65, 74, 1)
- Info Alert Card Description text: rgba(73, 130, 145, 1)
- Upload Logo Icon (icon / upload) color: rgba(58, 111, 216, 1)
- FileUploadInput instruction text: rgba(47, 65, 74, 1)
- FileUploadInput supported formats text: rgba(73, 130, 145, 1)
- TextInput value / CustomSelect selected item text: rgba(73, 130, 145, 1) (This applies to the new ACH (Bank Transfer) Details card TextInputs as well). **Company Profile - Key Contacts tab:** CustomSelect selected item text uses rgba(47, 65, 74, 1) (selectedValueTextColor prop). FileUploadInput uploaded file item display: background rgba(241, 240, 247, 1), text rgba(58, 111, 216, 1).
- CustomSelect placeholder text: rgba(73, 130, 145, 1) (UPDATED: Applies to new CustomSelect fields in Add New Corporation - Step 1, ACH Details and existing Step 3 CustomSelects).
- RichCheckboxGroup selected checkbox background: rgba(48, 95, 161, 1)
- RichCheckboxGroup item label text: rgba(47, 65, 74, 1)
- RichCheckboxGroup group label text: rgba(56, 89, 102, 1)
- Switch (off state) track background: rgba(221, 217, 235, 1)
- TrialPeriodSwitchGroup label text: rgba(47, 65, 74, 1)
- TrialPeriodSwitchGroup secondary text: rgba(73, 130, 145, 1) (UPDATED from rgba(56, 89, 102, 1)); **on Company Profile - Configuration page** secondary text uses rgba(56, 89, 102, 1) per structural data (secondaryTextColor prop).
- ActionButtonsGroup "Previous" button background: rgba(221, 217, 235, 1)
- ActionButtonsGroup "Previous" button text: rgba(47, 65, 74, 1)
- ActionButtonsGroup "Next" button background: rgba(48, 95, 161, 1)
- ActionButtonsGroup "Next" button text: rgba(255, 255, 255, 1)
- ActionButtonsGroup "Cancel" button background: rgba(255, 255, 255, 1)
- ActionButtonsGroup "Cancel" button text: rgba(47, 65, 74, 1)
- **NEW Corporation Onboarding - Step 1 specific colors:**
  - Setup Tag background: rgba(248, 247, 251, 1)
  - Setup Tag Icon (sliders-vertical): rgba(58, 111, 216, 1)
  - Setup Tag Text: rgba(52, 76, 86, 1) (NEW color)
- **NEW BSPBlueprint Logo internal vector colors:** rgba(97, 164, 122, 1), rgba(207, 90, 91, 1), rgba(131, 132, 133, 1), rgba(59, 101, 156, 1)
- **NEW Corporation Onboarding - Step 5 specific colors:** CompanyReviewCard Icon Button Background rgba(231, 237, 247, 1); Icon (building-2) rgba(48, 95, 161, 1); Separator Ellipse rgba(100, 157, 172, 1).
- **Add New Company - Step 5 Confirmation:** SummaryCard title (e.g. "Company Info.") Inter, weight 500, size 12, rgba(56, 89, 102, 1). DataDisplayRow label text Inter, weight 400, size 14, rgba(56, 89, 102, 1). DataDisplayRow value text Inter, weight 600, size 14, rgba(47, 65, 74, 1). Section description "Review all the details..." Inter, weight 400, size 14, rgba(73, 130, 145, 1).
- **NEW AddCorporationCompanyModal specific colors:** Modal Overlay: rgba(26, 26, 26, 0.7); Modal Header Title: rgba(47, 65, 74, 1); Modal Header Description: rgba(56, 89, 102, 1); Modal Close Icon Button Background: rgba(248, 247, 251, 1); Modal Close Icon Color: rgba(52, 76, 86, 1); Modal Section Headers ("Company Info.", "Access Setup"): rgba(56, 89, 102, 1); TextInput/CustomSelect Background (White): rgba(255, 255, 255, 1); TextInput/CustomSelect Background (Light Grey): rgba(248, 247, 251, 1) **(for read-only/pre-filled fields: Region (Data Residency), Industry, Security Posture)**; Add Company Button Background: rgba(48, 95, 161, 1); Add Company Button Text: rgba(255, 255, 255, 1).
- **NEW Company Profile - View Details / Plan & Seats Badge for "Trial Status":** background rgba(241, 246, 253, 1), text color rgba(58, 111, 216, 1); typography Inter 600 12px.
***- NEW Close Corporation Confirmation Modal specific colors: Overlay: rgba(26, 26, 26, 0.699999988079071). Modal Background: rgba(255, 255, 255, 1). Header Close Icon Button Background: rgba(248, 247, 251, 1). Header Close Icon (Icon / x) Color: rgba(52, 76, 86, 1). Danger Alert Background: rgba(253, 243, 243, 1). Danger Alert Icon (Icon / ban) Color: rgba(196, 71, 85, 1). Danger Alert Title Text: rgba(161, 47, 63, 1). Danger Alert Description Text: rgba(47, 65, 74, 1). Info Alert Background: rgba(241, 246, 253, 1). Info Alert Icon (Icon / info) Color: rgba(58, 111, 216, 1). Info Alert Title Text: rgba(47, 65, 74, 1). Info Alert Description Text: rgba(73, 130, 145, 1). Form Field Label Text: rgba(47, 65, 74, 1). Form Field Required Asterisk (*) Color: rgba(196, 71, 85, 1). Select/Textarea Background: rgba(255, 255, 255, 1). Select Placeholder/Value Text: rgba(73, 130, 145, 1). Footer "Cancel" Button Background: rgba(255, 255, 255, 1). Footer "Cancel" Button Text: rgba(47, 65, 74, 1). Footer "Close Corporation" Button Background: rgba(196, 71, 85, 1). Footer "Close Corporation" Button Text: rgba(255, 255, 255, 1).***
- **NEW Delete Company Confirmation Modal specific colors:** Overlay: `rgba(26, 26, 26, 0.699999988079071)`. Modal Background: `rgba(255, 255, 255, 1)`. Header Title Text: `rgba(47, 65, 74, 1)`. Footer "Cancel" Button Background: `rgba(255, 255, 255, 1)`. Footer "Cancel" Button Text: `rgba(47, 65, 74, 1)`. Footer "Delete Company" Button Background: `rgba(196, 71, 85, 1)`. Footer "Delete Company" Button Text: `rgba(255, 255, 255, 1)`.
- **UPDATED Login Page specific colors:** Page background: rgba(248, 247, 251, 1). Login Card background: rgba(255, 255, 255, 1). Password Toggle Icon (glyph): rgba(255, 255, 255, 1) (white). Password Toggle Icon (adornment background): rgba(73, 130, 145, 1). **UPDATED: PasswordInput visibility toggle icon glyph: rgba(255, 255, 255, 1); adornment background: rgba(73, 130, 145, 1).** **UPDATED: Reset Password Button (on Reset Password Page) Background: rgba(99, 146, 205, 1) (PRIMARY_ACCENT_BLUE per structural data 'New Password - Reset'); Text: rgba(255, 255, 255, 1).** **UPDATED: Back to Login Button Background: rgba(255, 255, 255, 1); Text: rgba(47, 65, 74, 1).** "Remember me" Switch (ON state) track: rgba(48, 95, 161, 1); thumb: rgba(255, 255, 255, 1). "Remember me" Switch (OFF state) track: rgba(221, 217, 235, 1). "Forgot Password?" and "Contact Us" links: rgba(58, 111, 216, 1). "Login" Button background: rgba(48, 95, 161, 1); text: rgba(255, 255, 255, 1). "Need help?" text: rgba(56, 89, 102, 1). AuthPageFooter text and separator (|): rgba(73, 130, 145, 1). **Email and Password input placeholder text: rgba(73, 130, 145, 1).** **Email Input Error Message Text: rgba(161, 47, 63, 1).**
- **NEW Corporation Profile Dashboard colors:** DashboardMetricCard badge (positive/neutral): bg rgba(239, 250, 245, 1), text rgba(47, 143, 107, 1). Badge (negative): bg rgba(253, 243, 243, 1), text rgba(196, 71, 85, 1). DashboardMetricCard title: rgba(73, 130, 145, 1). Value: rgba(48, 95, 161, 1). Description: rgba(56, 89, 102, 1). LineChart grid: rgba(221, 217, 235, 1). LineChart data lines: rgba(48, 95, 161, 1), rgba(224, 184, 74, 1). IconHoverCard label: rgba(56, 89, 102, 1). IconHoverCard number: rgba(47, 65, 74, 1). ExportButton: Icon / share rgba(52, 76, 86, 1).
- Sidebar width: 240px; header height: 64px; content padding 24px/32px.
- Font: Inter. Page title 20px/600; badges 12px/600; tabs 14px/600.
- 2FA: Dialog title 20px/600; body 14px/400; label 14px/500; button 14px/600.
- **NEW: PasswordStrengthIndicator Text Label Typography ('Poor'/'Weak' state): Inter, weight:500, size:12. NEW: PasswordStrengthIndicator Text Label Typography ('Average' state): Inter, weight:500, size:12. NEW: PasswordStrengthIndicator Text Label Typography ('Strong' state): Inter, weight:500, size:12.**
- **NEW: PasswordInput Value Typography: Inter, weight:400, size:14.**
- **UPDATED: Reset Password Button Label Typography: Inter, weight:600, size:14.**
- **UPDATED: Back to Login Button Label Typography: Inter, weight:600, size:14.**
- Add New Company: Page/Section titles 20px/600; Stepper step titles
16px/600; form labels 14px/500; button labels 14px/600; Progress "X% Complete"
12px/500; Sidebar group labels 12px/600; body/description 14px/400.
- Expanded Typography for Step 3, Step 4 components, new sidebar elements, Add New Corporation - Step 1 components, **and AddCorporationCompanyModal:**
- Stepper Step Subtitles: Inter, weight 400, size 14, rgba(56, 89, 102, 1).
- Section Description ("General settings..." and "Manage your plan..."): Inter, weight 400, size 14, rgba(73, 130, 145, 1).
- Card Header Titles: Inter, weight 500, size 16, rgba(56, 89, 102, 1). (This applies to the new "ACH (Bank Transfer) Details" card header and Corporation Profile Basic Info. tab cards.)
- TextInput value: Inter, weight 400, size 14, rgba(73, 130, 145, 1). (This applies to new TextInput fields in ACH Details)
- CustomSelect selected item text: Inter, weight 400, size 14, rgba(73, 130, 145, 1). (This applies to new CustomSelect fields in ACH Details)
- CustomSelect placeholder text: Inter, weight 400, size 14, rgba(73, 130, 145, 1). (UPDATED)
- InfoAlertCard Title: Inter, weight 600, size 14, rgba(47, 65, 74, 1).
- InfoAlertCard Description: Inter, weight 400, size 14, rgba(73, 130, 145, 1).
- FileUploadInput label: Inter, weight 500, size 14, rgba(56, 89, 102, 1).
- FileUploadInput instruction text: Inter, weight 600, size 16, rgba(47, 65, 74, 1).
- FileUploadInput supported formats text: Inter, weight 400, size 14, rgba(73, 130, 145, 1).
- RichCheckboxGroup group label: Inter, weight 400, size 14, rgba(56, 89, 102, 1).
- RichCheckboxGroup item label: Inter, weight 400, size 14, rgba(47, 65, 74, 1).
- TrialPeriodSwitchGroup main label: Inter, weight 500, size 14, rgba(47, 65, 74, 1).
- TrialPeriodSwitchGroup secondary text: Inter, weight 400, size 12, rgba(73, 130, 145, 1).
- **NEW Corporation Onboarding - Step 1 specific typography:**
  - Page Description ("Set up a new corporation..."): Inter, weight 400, size 14, rgba(56, 89, 102, 1).
  - Setup Tag Text: Inter, weight 600, size 14, rgba(52, 76, 86, 1).
  - Stepper Step Titles for Add New Corporation Flow: Active: Inter, weight 600, size 16, rgba(58, 111, 216, 1). Upcoming: Inter, weight 600, size 16, rgba(73, 130, 145, 1).
- Step 3 specific: RadioGroupField item label Inter, weight 400, size 14, rgba(47, 65, 74, 1); Trial Configuration title Inter, weight 500, size 14, rgba(47, 65, 74, 1); TextInput (Trial End Date) value Inter, weight 700, size 14, rgba(73, 130, 145, 1).
- **NEW Corporation Onboarding - Step 5 typography:** Confirmation Section Heading Inter, 600, 20, rgba(47, 65, 74, 1); Section Description Inter, 400, 14, rgba(73, 130, 145, 1); Review Card Section Headers (e.g. "Corporation Info.") Inter, 500, 12, rgba(56, 89, 102, 1); Review Data Label Inter, 400, 14, rgba(56, 89, 102, 1); Review Data Value Inter, 600, 14, rgba(47, 65, 74, 1); CompanyReviewCard Title Inter, 500, 14, rgba(47, 65, 74, 1); CompanyReviewCard Sub-labels Inter, 400, 12, rgba(56, 89, 102, 1); Action "Confirm & Add" Inter, 600, 14.
- **NEW AddCorporationCompanyModal specific typography:** Modal Header Title: Inter, weight 600, size 20; Modal Header Description: Inter, weight 400, size 14; Modal Section Headers ("Company Info.", "Access Setup"): Inter, weight 600, size 14; FormGroupLabel: Inter, weight 500, size 14; TextInput/CustomSelect Placeholder/Value: Inter, weight 400, size 14; Button Labels: Inter, weight 600, size 14. Border radius 8px for modal and internal components.
- **NEW Company Profile - View Details / Plan & Seats ConfigDisplayRow Badge typography:** Inter, weight 600, size 12.
***- NEW Close Corporation Confirmation Modal specific typography: Modal Header Title: Inter, 600, 20px. Modal Header Description: Inter, 400, 14px. Alert Title Text: Inter, 600, 14px. Alert Description Text: Inter, 400, 14px. Form Field Label Text: Inter, 500, 14px. Select Placeholder/Value Text: Inter, 400, 14px. Textarea Placeholder/Value Text: Inter, 400, 14px. Button Labels: Inter, 600, 14px.***
- **NEW Delete Company Confirmation Modal specific typography:** Modal Header Title: `Inter, 600, 20px`. Button Labels: `Inter, 600, 14px`.
- **NEW Dashboard Page Specific Colors:** Export Report Button background: `rgba(99, 146, 205, 1)`. Export Report Button text: `rgba(255, 255, 255, 1)`. Export Report Button Icon / share: `rgba(255, 255, 255, 1)`. Empty State "No metrics available" text: `rgba(47, 65, 74, 1)`. Empty State "Metrics will appear here once data is generated." text: `rgba(73, 130, 145, 1)`. **UPDATED: Mobile Header (Logo Wrapper) background: `rgba(255, 255, 255, 1)`. Icon / panel-left and Icon / ellipsis (MoreVertical) color: `rgba(73, 130, 145, 1)`.**
- **UPDATED Dashboard Page Specific Typography:** Dashboard Overview (Page Title): Inter, 600, 16px. Monitor and manage your entire platform (Page Description): Inter, 400, 14px. Export Report Button Label: Inter, 600, 14px. No metrics available (Empty State Title): Inter, 600, 20px. Metrics will appear here once data is generated. (Empty State Description): Inter, 500, 14px.
- **NEW: SuperAdminPersonaDisplay Colors:** Frame Background: rgba(48, 95, 161, 1) (PRIMARY_ACCENT_BLUE). Text Color: rgba(255, 255, 255, 1) (white).
- **NEW: SuperAdminPersonaDisplay Typography:** Text: Inter, weight 500, size 16px (implementation; spec mentioned 500px — design clarification recommended).
- **UPDATED Login Page specific typography:** Page Title "Welcome back!": Inter, 600, 20px. Page Description "Enter your email...": Inter, 400, 14px. Form Field Labels: Inter, 500, 14px. Text Input Values: Inter, 400, 14px. "Remember me" Label: Inter, 400, 14px. "Forgot Password?" Link: Inter, 500, 14px. "Login" Button Label: Inter, 600, 14px. "Need help?" Text: Inter, 400, 14px. "Contact Us" Link: Inter, 600, 14px. AuthPageFooter Text: Inter, 400, 14px. **Email Input Error Message Text: Inter, 400, 14px.**
- **UPDATED Two-Factor Authentication (2FA) Page Specific Colors:** Page Background: rgba(248, 247, 251, 1). TwoFactorAuthDialog Background: rgba(255, 255, 255, 1). Dialog Title ("Password Reset"): rgba(47, 65, 74, 1). Dialog Description: rgba(56, 89, 102, 1). "Enter code" Label: rgba(47, 65, 74, 1). Countdown Text: rgba(56, 89, 102, 1). OTP Input Placeholder: rgba(56, 89, 102, 1). **OTP Input Entered Value (filled/error state): rgba(47, 65, 74, 1).** Separator (OTP inputs): rgba(221, 217, 235, 1). **Inline OTP Error Message (Clarification needed if still present): rgba(161, 47, 63, 1).** "Verify Account" Button Background: rgba(48, 95, 161, 1). "Verify Account" Button Text: rgba(255, 255, 255, 1). **"Back to Login" Button: background rgba(255, 255, 255, 1), text rgba(47, 65, 74, 1).** "Didn't receive a code?" Text: rgba(56, 89, 102, 1). "Resend Code" Link Button Text: rgba(58, 111, 216, 1). AuthPageFooter Text: rgba(73, 130, 145, 1). **Global Toast (for 2FA errors) Background: rgba(196, 71, 85, 1). Global Toast Title/Body Text: rgba(255, 255, 255, 1).**
- **UPDATED Two-Factor Authentication (2FA) Page Specific Typography:** Dialog Title ("Password Reset"): Inter, weight 600, size 20. Dialog Description: Inter, weight 400, size 14. "Enter code" Label: Inter, weight 500, size 14. Countdown Text: Inter, weight 400, size 14. OTP Input Values/Placeholders: Inter, weight 400, size 14. **Inline OTP Error Message (Clarification needed if still present): Inter, weight 400, size 14.** "Verify Account" Button Label: Inter, weight 600, size 14. **"Back to Login" Button Label: Inter, weight 600, size 14.** "Didn't receive a code?" Text: Inter, weight 400, size 14. "Resend Code" Link Button Label: Inter, weight 600, size 14. AuthPageFooter Text: Inter, weight 400, size 14. **Global Toast (for 2FA errors) Title: Inter, weight 600, size 14. Global Toast Body: Inter, weight 400, size 14.**
- Border radius: 8px for cards, tabs, buttons, 2FA Dialog, OTP inputs, InfoCard,
Uploader, SelectField, TextInput, RichCheckboxGroup items, Switch, Radio buttons, SummaryCard.
Pill (9999px) for badges.
--------------------------------------------------------------------------------
9. ACCESSIBILITY & NOTES
--------------------------------------------------------------------------------
- ARIA: navigation roles, breadcrumb label, tablist/tab/tabpanel, button/link
labels, search aria-label.
- **NEW: SuperAdminPersonaDisplay Accessibility:** The outer container (MuiBox/section) has role="region" and aria-label="Super Admin Persona Details". The text content conveys persona and theme semantically. Color contrast between white text and frame background rgba(48, 95, 161, 1) meets WCAG AA.
- **UPDATED: Login Page Accessibility:** Main content (LoginCard) role="region", aria-labelledby="login-page-title". Page title "Welcome back!" as h1 with id="login-page-title". Email input id="login-email", aria-labelledby, type="email", autocomplete="email". **When email is invalid, email input must have aria-invalid="true" and aria-describedby="login-email-error". The error message element must have id="login-email-error".** Password input id="login-password", aria-labelledby, type="password"/"text" per visibility toggle, autocomplete="current-password". Password visibility toggle IconButton: role="button", aria-label "Show password"/"Hide password", aria-pressed reflecting visibility. Remember me Switch: role="switch", aria-checked, aria-label "Remember me", label associated via htmlFor/id. "Forgot Password?" and "Contact Us" LinkButtons with descriptive aria-labels. Login button: aria-disabled when invalid or loading, aria-busy when isLoggingIn, label "Logging In..." during submit. AuthPageFooter links with appropriate aria-labels. Focus on email input on page load; logical tab order. The "Mobile Login - Details Filled" state visually confirms the application's adherence to these accessibility guidelines in a filled, non-error state on mobile viewports.
- **NEW: Reset Password Page Accessibility:** Main content (SetNewPasswordDialog) role="region", aria-labelledby="set-new-password-title". Page title "Set New Password" as h2 with id="set-new-password-title". Password input id="new-password", aria-labelledby, type="password"/"text" per visibility toggle, autocomplete="new-password". Confirm Password input id="confirm-password", aria-labelledby, type="password"/"text" per visibility toggle, autocomplete="new-password". Password visibility toggle IconButton: role="button", aria-label "Show password"/"Hide password", aria-pressed reflecting visibility. PasswordStrengthIndicator: role="status", aria-live="polite", aria-label providing feedback on password strength (e.g. "Password strength: Poor", "Password strength: Average", or "Password strength: Strong"). "Reset Password" button: role="button", aria-disabled when invalid or loading, aria-busy when submitting, label "Resetting Password..." during submit; with its updated background color rgba(99, 146, 205, 1) (PRIMARY_ACCENT_BLUE) per structural data, maintains all accessibility attributes. "Back to Login" LinkButton with descriptive aria-label. AuthPageFooter links with appropriate aria-labels. Focus on password input on page load; logical tab order. **The mobile viewport rendering, including the 'poor' password strength state, visually confirms the application's adherence to these accessibility guidelines.**
- Back button and company cards are keyboard-activable.
- Images use alt text (Corp. logo, user avatar).
- Two-Factor Authentication (2FA): TwoFactorAuthDialog role="dialog", aria-modal. **UPDATED: The dialog's root element must have aria-labelledby="2fa-dialog-title" where the title "Password Reset" has id="2fa-dialog-title". The "Enter code" label has id="otp-input-label"; OtpInputGroup uses aria-labelledby="otp-input-label". "Verify Account" button: aria-label "Verify Account", aria-busy when verifying. "Back to Login" button (when shown): aria-label "Back to login page". Error State (Clarification needed for inline error): When inline error is shown (assuming co-existence with global toast), OtpInputGroup (or wrapper) must have aria-invalid="true" and aria-describedby="otp-error-message"; the error message element has id="otp-error-message", role="alert", aria-live="assertive".** OtpInput aria-label per digit, inputmode="numeric", autocomplete="one-time-code", placeholder "0". **GlobalToast for 2FA errors role="alert", aria-live="assertive"; dismiss button aria-label (e.g. "Dismiss verification error message"). CountdownTimer: aria-hidden="true" when hidden in error state.**
- Add New Company: Stepper role="navigation"; each step focusable with
aria-label (e.g. "Step 2: Key Contacts, Current step"); aria-current="step"
on active step. ProgressTracker role="progressbar", aria-valuenow/min/max.
InfoAlertCard role="status". Uploader keyboard-focusable, aria-label
"Upload roster file"; upload icon aria-label; file display aria-label.
CustomSelect role="combobox", aria-haspopup="listbox", aria-expanded,
aria-required, aria-invalid/aria-describedby for errors; options role="option".
Sidebar menu items aria-label; group labels semantic; badge count in
menu item aria-label. All form fields have labels; required * with
aria-required="true".
- **Step 3 Plan & Seats:**
- RadioGroupField: Group container with role="radiogroup", aria-labelledby. Each radio with role="radio", aria-checked, aria-label (initial selection "Trial" checked). Keyboard navigation (Tab to group, Arrow Keys within group, Space to select).
- Conditional content (Trial Configuration, CC Details, Wiring (Bank) Details, ACH (Bank Transfer) Details): Sections shown/hidden with planType and paymentType; aria-hidden="true" when hidden.
- TextInput fields within payment details cards (CC Details, Wiring (Bank) Details, and new ACH (Bank Transfer) Details):
- Card Number, CVV, Expiration Date, Billing ZIP, Bank Account No., Account No. (NEW), Routing No. (NEW) use inputmode="numeric".
- All TextInput fields (including Beneficiary Name, Bank Name, SWIFT/ BIC Code, Account Holder Name (NEW)) have aria-label/aria-labelledby, aria-required, aria-invalid/aria-describedby for validation.
- CustomSelect fields (Bank Country, Country for CC Details, Account Type (NEW), Payment Direction (NEW)): role="combobox", aria-haspopup="listbox", aria-expanded, aria-required, aria-invalid/aria-describedby for errors; options role="option".
- Info Icon (Pilot Seats): This element and its aria-label are no longer present for "Trial Seats".
- **Step 4 Configuration:**
- TextInput for "Session Timeout": role="textbox", inputmode="numeric", with appropriate aria-label/aria-labelledby and aria-required/aria-invalid for validation.
- RichCheckboxGroup: Group container with role="radiogroup" (single selection), aria-labelledby linking to its visible label. Each item with role="radio", aria-checked (true/false), and aria-label/aria-labelledby. Keyboard navigation (Tab to group, Arrow Keys within group, Space to select).
- Switch and TrialPeriodSwitchGroup: role="switch", aria-checked (true/false), aria-label or aria-labelledby linking to its visible label. Keyboard activatable with Spacebar.
- FileUploadInput for "Upload Logo": aria-label "Upload company logo file", include file type and size constraints in accessible description if possible.
- **Add New Company - Step 5 Confirmation:** Main content role="main"; section titles "Add New Company" and "Confirmation" use semantic headings (h1, h2). SummaryCard titles (e.g. "Company Info.") rendered as semantic heading (h3). DataDisplayRow label-value pairs use dl/dt/dd for semantics and aria-label. "Confirm & Add" button: when submitting, disabled and aria-busy="true"; loading label "Submitting...". ProgressTracker role="progressbar", aria-valuenow="80", aria-valuetext="80% Complete". GlobalToast for submission errors role="alert", aria-live="assertive".
- Expanded SuperAdminSidebar: New group labels use semantic structure. All new menu items must be focusable and have clear, descriptive aria-labels. Notifications menu item aria-label must include current badge count (e.g., "Notifications, 1 unread"). Custom scrollbar must be keyboard-operable with ARIA.
- Color contrast: All new components meet WCAG AA (e.g. #F1F6FD, #F1F0F7
backgrounds and text, and all newly specified color combinations).
- **NEW: Add New Company - Step 1 (Basic Info.):**
  - **Stepper:** role="navigation", aria-label="Form steps". Each Step: aria-current="step" when active, aria-label "Step N: [title], [subtitle]".
  - **ProgressBar:** role="progressbar", aria-valuenow, aria-valuemin="0", aria-valuemax="100", aria-valuetext "{percentage}% Complete".
  - **FormInput/FormSelect:** Labels associated via id/htmlFor; aria-required for required fields; aria-invalid/aria-describedby for errors; inputmode="numeric" for phone/ZIP.
  - **FooterButtonGroup:** Previous button hidden (visibility: hidden) on step 1; aria-disabled for disabled buttons.
- **NEW Add New Corporation - Step 1:**
  - **SetupTag:** role="status", aria-label "Corporation Setup Type: Quick Setup" (Quick) or "Corporation Setup Type: Advance Setup" (Advance).
  - **Breadcrumbs:** "Add New Corporation" link has aria-current="page". Overall breadcrumb navigation has aria-label="Breadcrumb".
  - **VerticalStepper:** role="navigation", aria-label="Corporation Onboarding Steps". Each step clickable item must have aria-label like "Step 1: Basic Info., Current step".
  - **Form Fields (TextInput, CustomSelect):** All new input fields must have a unique id, aria-labelledby linking to their FormGroupLabel, aria-required="true" for required fields. When invalid, aria-invalid="true" and aria-describedby linking to a visible error message. inputmode="numeric" for phone numbers and postal codes, inputmode="email" for email address.
  - **ActionButtonsGroup:** "Next" button has aria-disabled="true" when form validation fails. "Previous" button is initially hidden (not rendered) on Step 1.
  - **Add New Corporation - Step 3:** FileUploadInput for "Upload Logo" has aria-label "Upload corporation logo file"; include file type and size constraints in accessible description.
  - **Add New Corporation - Step 4: Key Contacts:**
  - PrimaryCorporateAdminCard: Collapsible header (IconButton) has role="button", aria-expanded (true/false), aria-controls linking to CardContent id, aria-label "Toggle Primary Corporate Admin details". CardContent has id for aria-controls. All TextInput fields: aria-labelledby, aria-required for required fields, aria-invalid/aria-describedby for validation errors; inputmode="numeric" for phone fields, inputmode="email" for email.
  - BillingFinanceContactCard / LegalComplianceContactCard: Clickable header has role="button", aria-label "Manage Billing and Finance Contact Details" / "Manage Legal and Compliance Contact Details", keyboard activatable (Enter/Space).
  - Action Buttons: "Next" button has aria-disabled="true" when Step 4 validation prevents progression.
  - **NEW Add New Corporation - Step 5: Confirmation (Advance Setup):** ReviewDataDisplayRow uses semantic dl/dt/dd and aria-label for label-value pairs. CompanyReviewCard display-only, tabIndex="-1". CorporationLogoDisplay img has descriptive alt. "Confirm & Add" button keyboard focusable; aria-busy during submission. ProgressTracker aria-valuenow=80.
- **NEW Add New Corporation - Quick Setup Step 2:** SetupTag aria-label "Corporation Setup Type: Quick Setup". VerticalStepper aria-label "Corporation Onboarding Steps: Quick Setup Flow". FormCard "Company Details" and "Access Setup" use role="group", titleId/aria-labelledby. All TextInput/CustomSelect: unique id, aria-labelledby, aria-required for required fields; inputmode="numeric" for ZIP/Postal Code and No. of Employees; inputmode="email" for Company Admin Email. Security Posture TextInput aria-readonly="true". Next button aria-disabled when form invalid.
- **NEW Add New Corporation - Quick Setup Step 3: Confirmation:** Main content role="main"; section title "Confirmation" semantic heading (h2). SummaryCard/section titles (Corporation Info., Executive Sponsor, Company Details, Admin User) as semantic headings (h3). ReviewDataDisplayRow uses semantic dl/dt/dd and aria-label for label-value pairs (including Admin User: Admin Name, Company Admin Email, No. of Employees, Security Posture). "Confirm & Add" aria-busy during submission; loading label "Submitting...". ProgressTracker aria-valuenow=66, aria-valuetext="66% Complete".
  - **NEW AddCorporationCompanyModal accessibility:** AddCorporationCompanyModal container: role="dialog", aria-modal="true", aria-labelledby="add-company-modal-title". Close button (Icon / x): role="button", aria-label="Close add new company form". All form fields (TextInput, CustomSelect): Unique id, aria-labelledby referencing FormGroupLabel, aria-required="true" for required fields; aria-invalid and aria-describedby for visible error messages when invalid. inputmode="numeric" for "No. of Employees" and "ZIP/Postal Code"; inputmode="email" for "Company Admin Email". **Time Zone CustomSelect: aria-required="true", options from mockTimeZones.** **Region (Data Residency), Industry (CustomSelect), and Security Posture (TextInput): read-only, aria-readonly="true", background rgba(248, 247, 251, 1); not required.** "Add Company" button: aria-disabled="true" when form is invalid. Focus management: On modal open, focus moves to first interactive element; on close, focus returns to trigger. Escape key closes the modal.
  - **NEW: Delete Company Confirmation Modal Accessibility:** Modal Container: `role="dialog"`, `aria-modal="true"`, `aria-labelledby="delete-company-modal-title"`. Modal Title: The element containing "Are you sure you want to delete this company?" must have `id="delete-company-modal-title"`. "Cancel" Button: `role="button"`, `aria-label="Cancel company deletion process"`. "Delete Company" Button: `role="button"`, `aria-label="Confirm and permanently delete company [Company Name]"` (where [Company Name] is dynamically inserted); `aria-disabled` when disabled; `aria-busy="true"` and label "Deleting Company..." during submission. Focus Management: On modal open, focus must move to the "Cancel" button. Focus must be trapped within the modal. On modal close, focus must return to the element that triggered the modal. The modal must close when the `Escape` key is pressed.
- **Company Profile - View Details page accessibility:** DeleteCompanyButton `aria-label="Delete company [Company Name]"`. EditCompanyButton role="button", aria-label="Edit company details". ViewLogoPreview img has descriptive alt (e.g. "[companyName] logo"). ConfigDisplayRow uses dl/dt/dd or aria-labelledby for label-value pairs; supports optional labelColor, valueColor, labelFontWeight, valueFontWeight; value may be a React node (e.g. Badge). FormCard supports titleId and ariaLabel/aria-labelledby for region (e.g. "Rooster Details" card). BackButton accepts optional to (Link) or onClick; optional ariaLabel (e.g. "Back to company directory"). **NEW: When "Trial Status" is rendered as a Badge in ConfigDisplayRow, the Badge has role="status" and aria-label="Trial Status: Active" for screen readers.**
  - **Company Profile - Edit Details page accessibility:** CompanyLogoPreview img has descriptive alt. FormGroupLabel "Logo Preview" associated with preview. Save & Update button: aria-disabled when form invalid or isSaving; aria-busy during save. BackButton on edit page: to="/companies/:id", ariaLabel="Back to company view".
  - **NEW Company Profile - Basic Info. tab accessibility:** Basic Info. tab content: role="tabpanel", id="basic-info-tabpanel", aria-labelledby="basic-info-tab". ParentCorporationCard, CompanyBasicInfoCard, CompanyAddressCard use FormCard with titleId/ariaLabel; Parent Corporation Legal Name read-only TextInput has aria-label. All form fields: aria-label/aria-labelledby, aria-required for required fields, aria-invalid/aria-describedby for validation. Save & Update: aria-disabled when form invalid or isSaving, aria-busy during submission.
  - **NEW Company Profile - Key Contacts tab accessibility:** ProfileTabs: role="tablist"; each tab has id="{value}-tab", role="tab", aria-selected, aria-controls="{value}-tabpanel". Key Contacts tab content: role="tabpanel", id="key-contacts-tabpanel", aria-labelledby="key-contacts-tab". FileUploadInput for roster: aria-label="Upload company roster file"; uploaded file name announced. CustomSelect fields: unique id, aria-required for required fields (Primary, Executive, HR, IT/Security). Save & Update: aria-disabled when form invalid or isSaving, aria-busy during submission.
  - **NEW Company Profile - Plan & Seats tab accessibility:** Plan & Seats tab content: role="tabpanel", id="plan-and-seats-tabpanel", aria-labelledby="plan-and-seats-tab". Conditional ACH (Bank Transfer) Details card: not rendered when Payment Type is not ACH (no aria-hidden needed). TextInput Account No. and Routing No.: inputmode="numeric". All form fields: aria-label/aria-labelledby, aria-required for required fields, aria-invalid/aria-describedby for validation. Save & Update: aria-disabled when form invalid or isSaving, aria-busy during submission.
- **UPDATED: Dashboard Page Accessibility:** **SuperAdminPersonaDisplay:** container has `role="region"` and `aria-label="Super Admin Persona Details"`. Page title "Dashboard Overview" as `<h1>`. Empty state messages within a `div` with `role="status"` and `aria-live="polite"`. "Export Report" button with `role="button"` and `aria-label="Export dashboard report"`. "Export Report" button has `aria-disabled="true"` when dashboard is in empty state (no data to export). Sidebar "Dashboard" item with `aria-current="page"` when active. **Mobile:** Mobile header (Logo Wrapper) has `role="banner"`. Icon / panel-left: `role="button"`, `aria-label="Toggle navigation menu"`, `aria-expanded`, `aria-controls="mobile-sidebar-panel"`. Icon / ellipsis: `role="button"`, `aria-label="More options"`, `aria-haspopup="menu"`. SuperAdminSidebar when open in mobile Drawer has `id="mobile-sidebar-panel"`, `role="navigation"`, `aria-modal="true"`; Escape and backdrop close the drawer.
- **UPDATED: Corporation Profile Configuration Page Accessibility:** Page Header: Corporation name, code, status presented semantically (e.g. h1, role="status", aria-label). BackButton: to="/corporations", ariaLabel="Back to corporation directory". Edit Button: role="button", aria-label="Edit corporation details". Suspend Button: role="button", aria-label="Suspend corporation [Corporation Name]", aria-haspopup="dialog" if confirmation modal. Close Corporation Button: role="button", aria-label="Close corporation [Corporation Name]", aria-haspopup="dialog" if confirmation modal. **Basic Info. Tab (CorporationBasicInfoView):** role="tabpanel", id="basic-info-tabpanel", aria-labelledby="basic-info-tab". Each FormCard uses h3 for title or role="region" with aria-labelledby. ConfigDisplayRow uses dl/dt/dd for label-value pairs. Configuration Tab (CorporationAuditLogTable): role="tabpanel", id="configuration-tabpanel", aria-labelledby="configuration-tab". SearchInput: aria-label="Search audit log entries". CustomSelects in header: role="combobox", aria-label="Filter by action types" and "Filter by time range". Table: role="table"; TableHeader: role="columnheader", aria-sort (none/ascending/descending); TableCell: role="cell"; Badge within table: role="status" with descriptive aria-label (e.g. "Audit action status: User Management"). TablePagination: role="navigation", aria-label="Audit log pagination"; Previous/Next buttons with aria-label; page buttons with aria-current="page" for active page.
- **NEW: Edit Corporation - Key Contacts Tab Accessibility (CorporationKeyContactsEditForm):** Main content wrapper: role="group" with aria-label="Edit corporation key contacts section". Section title "Key Contacts" uses h2. Description "Define governance..." associated with h2. PrimaryCorporateAdminEditCard: FormCard wrapper role="region", aria-labelledby referencing "Primary Corporate Admin" title. Collapsible header: role="button", tabIndex="0", aria-expanded, aria-controls="primary-admin-card-content". IconButton within header: aria-label="Toggle Primary Corporate Admin details". Collapsible content: id="primary-admin-card-content". FormGroupLabels linked to TextInputs via htmlFor/id. TextInput fields: id, aria-labelledby, aria-required for required fields; aria-invalid and aria-describedby when invalid; inputmode="numeric" for phone, inputmode="email" for email. BillingFinanceContactCard and LegalComplianceContactCard: clickable headers role="button", aria-label="View Billing and Finance Contact Details" / "View Legal and Compliance Contact Details". Cancel button: aria-label="Cancel corporation key contact changes". Save & Update button: aria-label="Save and update corporation key contact details"; aria-disabled when disabled; aria-busy and label "Saving Key Contacts..." during submission.
***- NEW Close Corporation Confirmation Modal Accessibility: Modal Container: role="dialog", aria-modal="true", aria-labelledby="close-corporation-modal-title". Modal Title: id="close-corporation-modal-title". Close Button (Icon / x): role="button", aria-label="Close corporation confirmation dialog". Danger Alert: role="alert", aria-label for warning. Info Alert: role="status", aria-label for Data Security. Pre-defined Reasons FormGroupLabel linked to CustomSelect via htmlFor/id; CustomSelect aria-required="true", aria-invalid if no selection, aria-describedby for errors. Additional Notes FormGroupLabel linked to Textarea; Textarea aria-label="Additional notes regarding corporation closure". Cancel Button: role="button", aria-label="Cancel corporation closure process". Close Corporation Button: role="button", aria-label="Confirm and permanently close corporation"; aria-disabled when reason not selected or isSubmitting; aria-busy and label "Closing Corporation..." during submission. Focus management: focus to first interactive element on open; Escape closes modal; focus returns to trigger on close.***
--------------------------------------------------------------------------------
10. DOCUMENT VERSION
--------------------------------------------------------------------------------
Generated for the react-app implementation based on the Corporation Profile -
Configuration specification, the Two-Factor Authentication (2FA) design, the Login page design,
**the "Add New Company - Step 1 (Basic Info.)" design, the "Add New Company - Step 5 (Confirmation)" design** (horizontal Stepper, ProgressBar, CardLayout, FormInput, FormSelect, FooterButtonGroup, companyCreation basicInfo and Step 1 validation), the "Add New Company - Step 2 Key Contacts" design, the "Add New Company -
Step 3 Plan & Seats (with ACH Bank Transfer Details variant)" design, the "Add New Company - Step 4 Configuration" design, the "Add New Corporation - Step 1 Basic Info." design, **the "Add New Corporation - Step 2: Company Setup (Add New Company Modal)" design,** the "Add New Corporation - Step 3: Branding & Domains" design, the "Add New Corporation - Step 4: Key Contacts" design, the "Add New Corporation - Step 5: Confirmation" design, the "Company Directory / Edit Details - Configuration" design, the "Company Directory / Edit Details - Key Contacts" design, **the "Company Directory / Edit Details - Plan & Seats" design,** and **the "Company Directory / View Details - Configuration" design** (read-only default view, Edit Company button, separate /companies/:id/edit route for edit mode), **and the "Company Directory / View Details - Key Contacts" design** (FormCard title "Roster Details", cardTitle prop, ProfileTabs active tab white background and explicit label colors, CompanyBadges/ConfigDisplayRow typography and colors, Sidebar Notifications badge text color, BSPBlueprint logo wordmark black). **NEW: "Company Directory / View Details - Basic Info." design** — Company Profile View Details Basic Info. tab (default): FormCard "Company Basics" (first) with ConfigDisplayRow for Company Legal Name, DBA/ Trade Name, Website URL, Company Type, Office Type, Region (Data Residency), Industry, Primary Language, Company Phone No., Company Address; FormCard "Parent Corporation Info." (second) with Parent Corporation Legal Name, Ownership Type; EditCompanyButton aria-label "Edit company basic information", icon square-pen white on blue. **"Company Directory / Edit Details - Basic Info."** — edit mode CompanyBasicInfoForm with ParentCorporationCard, CompanyBasicInfoCard, CompanyAddressCard; Redux updateCompanyBasicInfoField, selectCompanyBasicInfoFormData (includes companyAddress, parentCorporationLegalName, regionDataResidency); mockCompanyConfig defaultBasicInfo (companyAddress, parentCorporationLegalName, regionDataResidency); Save & Update toast "Basic Info. saved". **UPDATED with explicit structural data for "Company Directory / View Details - Plan & Seats" tab, confirming three FormCard sections ("Plan Allocation & Seats Management", "Trial Configuration", "ACH (Bank Transfer) Details"), the introduction of a "Trial Status" ConfigDisplayRow with an "Active" Badge component (background rgba(241, 246, 253, 1), text rgba(58, 111, 216, 1), Inter 600 12px), and a formatted "Trial Length" value (e.g., "14 days (Auto-expire)"). Specific icon colors for Icon / panel-left (rgba(73, 130, 145, 1)) and Icon / settings (stroke rgba(52, 76, 86, 1)) in the sidebar are also clarified. **UPDATED with "Corporation Profile - Configuration Tab" design from structural data. UPDATED with "Corporation Profile - Basic Info. Tab (Overview)" design: CorporationBasicInfoView in corporation-profile/; default activeTab 'basic-info'; Corporation Basics, Executive Sponsor, Key Contacts FormCards with ConfigDisplayRow; mockCorporation extended with legalName, dbaName, address, executiveSponsor, keyContacts, createdOn, etc.; E2E tests for Basic Info. tab as default and content verification.** This replaces the previous 'Default Security Posture' and 'Branding Logo' content for the Configuration tab with a dashboard: SearchInput, CustomSelect, ExportButton, DashboardMetricCard, LineChart, and IconHoverCard components. CorporationDashboardContent component added; CorporationConfigurationTabContent deprecated for this tab. corporationsSlice now includes dashboard state (currentCorporationDashboard, dashboardLoading, dashboardError, dashboardFilters, chartAggregation), fetchCorporationDashboardData thunk, setDashboardFilters/setChartAggregation actions, and selectors. mockDashboard.js and mockTimeAggregationOptions.js added. powered by BSPBlueprint text styling clarified. corporationsSlice selectors selectCorporationSecurityConfig, selectCorporationBrandingConfig, selectCurrentCorporationLoading retained; dashboard selectors added. **NEW: And now includes a `DeleteCompanyConfirmationModal` for company deletion.** **NEW: And now includes a `DashboardPage` (empty state, title, description, export button, active sidebar link) at `/dashboard` with associated `dashboardSlice` state management.**
**UPDATED: And now includes the "Edit Corporation - Branding" design for the `/corporations/:id/edit` page's "Branding" tab (CorporationBrandingEditForm, logo upload/preview, Cancel/Save & Update, success toast "Branding saved", E2E tests).** **UPDATED: And now includes the "Edit Corporation - Company Details" design for the `/corporations/:id/edit` page's "Companies" tab (CorporationEditCompaniesTabContent, company list management, Add New Company/Edit Company modals, Delete Company confirmation modal, Save & Update toast "Companies saved", E2E tests).** **NEW: And now includes the "Edit Corporation - Key Contacts" design for the `/corporations/:id/edit` page's "Key Contacts" tab (CorporationKeyContactsEditForm, PrimaryCorporateAdminEditCard for editable fields, BillingFinanceContactCard and LegalComplianceContactCard as display/navigation placeholders, Cancel/Save & Update, success toast "Key Contacts saved", E2E tests).** **UPDATED: And now includes the detailed "Login Page" design and functionality for the `/login` route: full authentication page with BSPBlueprintLogo, LoginCard (Welcome back!, Email/Password, RememberMeSwitchGroup, Forgot Password link, Login button, Need help?/Contact Us), AuthPageFooter; PasswordInput with visibility toggle; LinkButton fontWeight prop; authSlice (loginRequest thunk, isLoggingIn, loginError, rememberMe persisted, emailValidationError, passwordValidationError states and actions); client-side validation with inline error messages (email "Your email address is invalid." on blur/submit, password "Please enter your password." on blur); TextInput/PasswordInput error and helperText props; Login button disabled when inline errors present; aria-invalid and aria-describedby for email error; success redirect to /dashboard; E2E login.spec.js (inline email/password error tests). The "Mobile Login - Details Filled" state is visually confirmed by new structural data, ensuring pixel-perfect adherence for colors, typography, and component placement in the filled, non-error state on mobile viewports. Implementation refined per structural data: Email and Password input placeholder text rgba(73, 130, 145, 1); AuthPageFooter separator (|) between Privacy Policy and Terms of Use uses same color rgba(73, 130, 145, 1).** **UPDATED: And now includes the "Mobile 2FA/ Code - Toast Message" structural data confirmation for the `/2fa/verify` route: confirms Global Toast for errors ("We couldn't verify your credentials." / "Kindly get a new code & try again."); confirms OTP inputs display entered digits with rgba(47, 65, 74, 1) text color, and CountdownTimer is hidden in error state. Clarification is needed regarding the co-existence or exclusivity of the Global Toast versus the inline error message and OTP input error border for 2FA verification failures, as the inline error/border were not depicted in the provided structural data but are detailed in existing documentation. This update confirms authSlice's role in managing 2FA error states, and updates E2E two-factor-auth.spec.js error state tests to reflect Global Toast confirmation and CountdownTimer hidden in error state.** **UPDATED: "Password Reset - 2FA" structural data applied to `/2fa/verify`: TwoFactorAuthDialog title changed from "Enter Verification Code" to "Password Reset" (Inter, 600, 20px, rgba(47, 65, 74, 1)); dialog title id and aria-labelledby updated to 2fa-dialog-title; optional "Back to Login" button added (onBackToLogin prop, background rgba(255, 255, 255, 1), text rgba(47, 65, 74, 1), Inter 600 14px, navigates to /login); Verify Account button aria-label and aria-busy when verifying. E2E two-factor-auth.spec.js updated for "Password Reset" title, 2fa-dialog-title, and Back to Login test.**
**UPDATED: And now includes the "New Password - Reset/ password strength indicator/ avg" and "strong" structural data for the `/reset-password/:token` route, in addition to "Mobile New Password - Reset/ password strength indicator/ poor": visually confirms the responsive layout for mobile, the `SetNewPasswordDialog` content and styling, `PasswordInput` value text color (`rgba(73, 130, 145, 1)` `Inter 400 14px`), `PasswordStrengthIndicator` text label (`'Poor'`, `Inter 500 12px`, `rgba(196, 71, 85, 1)` for the 'weak' state; **`'Average'`, `Inter 500 12px`, `rgba(203, 145, 39, 1)` for the 'average' state**, progress bar fill `rgba(224, 184, 74, 1)` for average; `'Strong'`, `Inter 500 12px`, `rgba(47, 143, 107, 1)` for the 'strong' state, progress bar fill `rgba(47, 143, 107, 1)`), and button styles (`Inter 600 14px`; Reset Password button background `rgba(99, 146, 205, 1)` (PRIMARY_ACCENT_BLUE) per structural data 'New Password - Reset'). This provides explicit visual details for an existing feature, ensuring pixel-perfect implementation for mobile viewports.**
Includes expanded sidebar, vertical stepper with updated sub-descriptions (Step 3 "Branding & Domains", Step 4 "Governance & Permissions"), ProgressTracker, InfoCard (re-purposed), Uploader (re-purposed), ContactSelect (re-purposed), RadioGroupField, TextInput (with optional valueTextColor, fontWeight for Plan & Seats), RichCheckboxGroup, Switch, TrialPeriodSwitchGroup (with optional secondaryTextColor for Company Config page), FileUploadInput for corporation logo, SummaryCard, DataDisplayRow (Add New Company Step 5), PrimaryCorporateAdminCard (collapsible), BillingFinanceContactCard, LegalComplianceContactCard, ReviewDataDisplayRow, CompanyReviewCard, CorporationLogoDisplay, CorporationConfirmationStep, **AddCorporationCompanyModal, CompanyTypeSelect, OfficeTypeSelect,** **DeleteCompanyButton, CompanyBadges, CompanyLogoPreview, CompanyConfigForm, CompanyKeyContactsForm, CompanyPlanAndSeatsForm,** **EditCompanyButton, ConfigDisplayRow, ViewLogoPreview, CompanyConfigView, CompanyKeyContactsView, CompanyPlanAndSeatsView,** **ParentCorporationCard, CompanyBasicInfoCard, CompanyAddressCard, CompanyBasicInfoView, CompanyBasicInfoForm,** **CompanyConfigPage (View Details), CompanyEditPage (Edit Details).** ProfileTabs tab group background #F1F0F7; tabs have id and aria-controls for tab panels. Badge component supports custom backgroundColor/textColor. CustomSelect supports selectedValueTextColor (Key Contacts tab, Plan & Seats ACH card) and inputBackground. BackButton supports optional `to` (Link) or `onClick`.
Redux slice updates include companyCreation (step3/planAndSeats form data, updateStep3Field, selectStep3FormData, selectStep3ValidationStatus, including new achDetails fields and validation logic), **companyConfig (currentCompany with basic info fields parentCorporationLegalName, parentName, ownershipType, companyLegalName, dbaTradeName, websiteUrl, companyType, officeType, regionDataResidency, region, industry, companyPhoneNo, primaryLanguage, companyAddress, addressLine, stateProvince, city, country, zipPostalCode; configuration and key contact fields primaryCompanyAdminId, secondaryCompanyAdminId, executiveSponsorId, hrPeopleOpsContactId, itSecurityContactId, rosterFile, planType, trialLength, trialEndDate, trialSeats, autoExpireTrial, planId, totalSeats, billingCycleId, paymentType, billingCurrencyId, achDetails; loading, isSaving, activeTab; updateCompanyConfigField, setCompanyConfigLogoFile, updateCompanyKeyContactField, setCompanyRosterFile, setCompanyConfigActiveTab, updateCompanyPlanAndSeatsField, updateCompanyAchDetailsField, resetCompanyPlanAndSeatsForm, updateCompanyBasicInfoField, clearCurrentCompany; selectCurrentCompany, selectCompanyConfig, selectCompanyConfigLoading, selectCompanyConfigSaving, selectCompanyConfigActiveTab, selectCompanyKeyContactsFormData, selectCompanyRosterFile, selectCompanyPlanAndSeatsFormData, selectCompanyAchDetailsFormData, selectCompanyPlanAndSeatsValidationStatus, selectIsCompanyPlanAndSeatsFormValid, selectCompanyBasicInfoFormData, selectCompanyBasicInfoValidationStatus, selectIsCompanyBasicInfoFormValid; activeTab default 'basic-info'. **NEW: Also includes `companyToDeleteId`, `companyToDeleteName`, `isDeletingCompany`, `deleteCompanyError` states and `setCompanyToDelete`, `clearCompanyToDelete`, `setIsDeletingCompany`, `setDeleteCompanyError` actions, and `deleteCompanyRequest` async thunk. New selectors: `selectCompanyToDeleteId`, `selectCompanyToDeleteName`, `selectIsDeletingCompany`, `selectDeleteCompanyError`.**),** and **corporationCreation (step1 form data, step2 form data for company details, step3 form data with logoFile, step4 form data with primary corporate admin fields, step4Validation, submissionStatus, updateCorporationField, updateCorporationStep2Field, setCorporationStep3LogoFile, updateCorporationStep4Field, setCorporationStep4ValidationStatus, validateCorporationStep4, selectCorporationStep1FormData, selectCorporationStep2FormData, selectCorporationStep1ValidationStatus, selectCorporationStep3FormData, selectCorporationStep4FormData, selectCorporationStep4ValidationStatus, selectCorporationStep4IsValidDerived, selectCorporationConfirmationData, submitCorporationCreation, selectSubmissionLoading, completedSteps for stepper state, including new field validation logic, AND isAddCompanyModalOpen, newCompanyFormData, newCompanyFormValidation, openAddCompanyModal, closeAddCompanyModal, updateNewCompanyFormField, validateNewCompanyForm, addCompanyToCorporationStep2, selectIsAddCompanyModalOpen, selectNewCompanyFormData, selectNewCompanyFormValidation, selectIsNewCompanyFormValid for the "Add New Company" modal in Step 2).**
E2E tests for **Corporation Profile (corporation-profile.spec.js: navigate to profile, Back link to /corporations, corporation name/code/status badges, Edit/Suspend/Close Corporation buttons with aria-labels; **Edit button navigates to /corporations/:id/edit and Edit Corporation page shows Basic Info. tab with Corporation Basics/Address/Executive Sponsor cards and Cancel/Save & Update; **Branding tab: section title/description, Upload Logo FileUploadInput, Logo Preview, Save & Update disabled when no file, Cancel to profile, file upload and Save shows success toast "Branding saved";** **Companies tab: Company Setup heading/description, Companies (X) label, info card, company cards, Add New Company button, AddCorporationCompanyModal open/close, Save & Update enabled and "Companies saved" toast;** tab switching; default active tab "Basic Info." with Corporation Basics, Executive Sponsor, Key Contacts cards and ConfigDisplayRow content; Configuration tab (after click) with audit log table: SearchInput, CustomSelects (Filter by action types, Filter by time range), Table (Timestamp, Actions, Status, Actor), Status badges, TablePagination; CloseCorporationConfirmationModal: open/close, content verification, required reason validation, Cancel/close icon, submit closes modal and redirects to /corporations)**, Add New Company Step 2, Step 3 (including Payment Type conditional rendering), Step 4, Step 5 (Confirmation: section title/description, 80% Complete, SummaryCard sections, DataDisplayRow labels/values, action buttons, Previous to step 4, Confirm & Add loading and redirect to /corporations), Add New Corporation - Step 1, **Add New Corporation - Step 2: Company Setup (Add Company Modal)** (modal open/close, Company Info. and Access Setup sections, validation, add company flow), Add New Corporation - Step 3: Branding, Add New Corporation - Step 4: Key Contacts, Add New Corporation - Step 5: Confirmation, **and Company Profile View Details & Edit Details (company-config.spec.js: View Details /companies/:id — company name, badges, Edit Company button, breadcrumb, Basic Info. tab default with Company Basics and Parent Corporation Info. cards (Company Address as row in Company Basics), Edit Company button aria-label "Edit company basic information", Configuration/Key Contacts/Plan & Seats tabs (click to switch; Plan & Seats: Trial Configuration card, Trial Status badge, Trial Length "X days (Auto-expire)"), Back to /corporations, Edit Company navigates to edit; Edit Details /companies/:id/edit — breadcrumb with Edit, Back to view, Basic Info. tab default with form and Save & Update toast "Basic Info. saved", Configuration/Key Contacts/Plan & Seats forms, Save & Update toasts. **NEW: Now includes tests for `DeleteCompanyConfirmationModal` interaction from both View Details and Edit Details pages, including opening, content verification with company name, "Cancel" and "Delete Company" button functionality, and successful deletion leading to redirection and a toast message.**). **NEW: E2E tests for Dashboard Page (dashboard.spec.js: navigate to /dashboard, verify page title, description, export button, empty state messages, sidebar active state, header icons. NEW: Verify SuperAdminPersonaDisplay is rendered with correct content, accessibility (role="region", aria-label="Super Admin Persona Details"), and visual styles: background rgba(48, 95, 161, 1), text color rgba(255, 255, 255, 1), font-weight 500, font-family Inter).**
**NEW: And now includes a `SuperAdminPersonaDisplay` component with frame background rgba(48, 95, 161, 1) and text "Super Admin Persona - Light Theme" (Inter, 500, 16px, rgba(255, 255, 255, 1)), integrated on the Dashboard page; authSlice currentPersonaType and activeThemePreference (persisted); E2E coverage in dashboard.spec.js.** **UPDATED: E2E tests for Login Page (login.spec.js: navigate to /login, verify BSPBlueprintLogo, LoginCard, title/description, Email/Password fields, password visibility toggle, Remember me switch, Forgot Password link, Login button states, validation including inline error message for invalid email and empty password blur, success redirect to /dashboard, failed login GlobalToast, Need help?/Contact Us, AuthPageFooter). E2E tests for Login page now explicitly validate the pixel-perfect rendering of the "Mobile Login - Details Filled" state, ensuring component sizing, spacing, colors, and typography match the provided structural data on mobile viewports; and verify email error message element id="login-email-error" for accessibility.** **UPDATED: E2E tests for Two-Factor Authentication Page (two-factor-auth.spec.js): Password Reset - 2FA structural data applied. Verifies dialog title "Password Reset" (id 2fa-dialog-title), dialog aria-labelledby 2fa-dialog-title, "Enter code" label above OTP inputs, OTP group aria-labelledby otp-input-label; "Back to Login" button navigates to /login; on invalid code submit verifies inline error "The verification code is invalid." with id otp-error-message and role alert, and OTP inputs retain entered digits; CountdownTimer hidden in error state; GlobalToast tests use filter to target toast specifically.**
